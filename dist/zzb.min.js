//! zzb.min.js v2.8.0 (https://github.com/jpfluger/zazzy-browser)
//! MIT License; Copyright 2017-2023 Jaret Pfluger
(()=>{var t={546:(t,e)=>{function s(){}s.prototype.ajax=function(t){return this.request(t,t.callback)},s.prototype.request=function(t,e){return zzb.types.isFunction(e)||(e=function(){}),t=zzb.types.merge({url:null,method:"GET",body:null,expectType:"text",headers:{},RAWRETURN:!1,SKIPREDIRECT:!1,SKIPFLASH:!1,SHOWCATCHMESSAGE:!1,NOCATCHLOG:!1,NOCATCHFLASH:!1,CATCHFLASHMESSAGE:""},t),zzb.types.isStringNotEmpty(t.url)?zzb.types.isStringNotEmpty(t.method)?void fetch(t.url,{method:t.method,body:t.body,headers:t.headers}).then((function(e){if(!e.ok)throw new Error("Remote service returned unexpected status "+e.status+".");switch(t.expectType){case"json":return e.json();case"text":return e.text();case"blob":return e.blob();default:throw new Error("Unknown content received from remote service.")}})).then((function(s){const o={request:t,data:s};if(!0===o.request.RAWRETURN)return e(o,null);let n=!1;const i=zzb.rob.newROB();if("json"!==o.request.expectType)i.recs=[o.data];else{if(!0!==o.request.SKIPREDIRECT&&zzb.types.isStringNotEmpty(s.redirect))return zzb.types.isFunction(o.request.onRedirect)?void o.request.onRedirect(s,(function(t){t||(window.location.href=s.redirect)})):void(zzb.types.isStringNotEmpty(s.message)?zzb.dialogs.showMessage({type:zzb.types.isStringNotEmpty(s.messageType)?s.messageType:null,classDialog:"zzb-dialog-flash-message zzb-dialog-flash-redirect"+zzb.strings.mergeElseEmpty(" zzb-dialog-flash-status-{0}",s.messageType),dataBackdrop:"static",body:s.message,onHide:function(t){window.location.href=s.redirect}}):window.location.href=s.redirect);s.ISROBERRORS||(s.err?(s.errs=zzb.rob.sanitizeErrors(s.err),s.err=null):s.error?(s.errs=zzb.rob.sanitizeErrors(s.error),s.err=null):s.errs&&(s.errs=zzb.rob.sanitizeErrors(s.errs),s.err=null));let r=s.recs;s.ISROBRECS||(s.recs?r=zzb.rob.sanitizeRecords(s.recs):s.rec?(r=zzb.rob.sanitizeRecords(s.rec),s.rec=null):Array.isArray(s.errs)&&0!==s.errs.length||(r=zzb.rob.sanitizeRecords(s))),s.paginate&&(i.paginate=s.paginate),i.errs=s.errs,i.recs=r,r=null,i.columns=s.columns,i.listErrs=zzb.rob.toList(i.errs),!0!==t.SKIPFLASH&&zzb.types.isStringNotEmpty(s.message)&&(n=!0,zzb.dialogs.showMessage({type:zzb.types.isStringNotEmpty(s.messageType)?s.messageType:null,classDialog:"zzb-dialog-flash-message"+zzb.strings.mergeElseEmpty(" zzb-dialog-flash-status-{0}",s.messageType,i.hasErrors()?"error":"okay"),dataBackdrop:"static",body:s.message,onHide:function(t){o.rob=i,e(o,null)}})),zzb.types.isFunction(o.request.onFinish)&&(n=!0,o.request.onFinish(i,(function(t){!0!==t&&(o.rob=i,e(o,null))})))}if(!0!==n){o.rob=i;try{e(o,null)}catch(t){throw console.log(r.APPEND_FAILED_HANDLER_UNEXPECTED,"error:",t),new Error(r.APPEND_FAILED_HANDLER_UNEXPECTED)}}})).catch((function(s){let o="";if(s&&zzb.types.isStringNotEmpty(s.message)&&(!0!==t.NOCATCHLOG&&r.APPEND_FAILED_HANDLER_UNEXPECTED!==s.message&&console.log(s.message),!0!==t.SHOWCATCHMESSAGE&&(o=s.message)),!0!==t.NOCATCHFLASH){let e="";zzb.types.isStringNotEmpty(o)&&(e=zzb.strings.format(' <span class="zzb-dialog-error-catch">{0}</span>',o)),zzb.types.isStringNotEmpty(t.CATCHFLASHMESSAGE)?zzb.ajax.showMessageFailedAction({message:t.CATCHFLASHMESSAGE+e}):zzb.ajax.showMessageFailedAction({message:r.MSG_FAILED_REQUEST_UNEXPECTED+e})}e(null,new Error(o))})):e(null,new Error("No url method defined to fetch request.")):e(null,new Error("No url defined to fetch request."))},s.prototype.get=function(t,e){t.method="GET",zzb.ajax.request(t,e)},s.prototype.post=function(t,e){t.method="POST",zzb.ajax.request(t,e)},s.prototype.getBLOB=function(t,e){t.method="GET",t.expectType="blob",zzb.ajax.request(t,e)},s.prototype.getTEXT=function(t,e){t.method="GET",t.expectType="text",zzb.ajax.request(t,e)},s.prototype.getJSON=function(t,e){t.method="GET",t.expectType="json",zzb.ajax.request(t,e)},s.prototype.postJSON=function(t,e){t.method="POST",zzb.types.isStringNotEmpty(t.expectType)||(t.expectType="json"),t.headers={"Content-Type":"application/json"},zzb.types.isStringNotEmpty(t.body)?t.body="{}":t.body=JSON.stringify(t.body),zzb.ajax.request(t,e)},s.prototype.postFORM=function(t,e){t.method="POST",t.expectType="json",zzb.ajax.request(t,e)};const r=function(t){};r.MSG_FAILED_REQUEST_UNEXPECTED="Communications with remote service failed unexpectedly.",r.APPEND_FAILED_HANDLER_UNEXPECTED="Report this to the remote service administrator.",s.prototype.showMessageFailedAction=function(t){t=zzb.types.merge({err:null,number:null,message:r.MSG_FAILED_ACTION_UNEXPECTED},t),zzb.types.isNumber(t.number)?t.number=" ("+t.number+")":t.number="",t.err&&console.log(t.err),zzb.dialogs.showMessage({classDialog:"zzb-dialog-flash-message zzb-flash-invalid",dataBackdrop:"static",body:t.message+t.number})},e.h=s},772:(t,e)=>{class s{constructor(t){this.defaultOptions=s.getDialogDefaults(t),this.defaultOptions.onShow="function"==typeof t.onShow?t.onShow:function(){},this.defaultOptions.onShown="function"==typeof t.onShown?t.onShown:function(){},this.defaultOptions.onHide="function"==typeof t.onHide?t.onHide:function(){},this.defaultOptions.onHidden="function"==typeof t.onHidden?t.onHidden:function(){},this.isBootstrap=!0!==this.defaultOptions.forceNoBootstrap&&null!=window.bootstrap,this.modal=null,zzb.types.isStringNotEmpty(this.defaultOptions.id)&&(this.modal=document.getElementById(this.defaultOptions.id)),this.modal||(this.modal=this.createModal()),this.defaultOptions.htmlDialog="",this.defaultOptions.body="",this.isBootstrap?this.bsModal=new bootstrap.Modal(this.modal,{focus:!0===this.defaultOptions.focus,keyboard:!0===this.defaultOptions.keyboard}):(this.closeModal=this.modal.querySelectorAll("[data-bs-dismiss]"),this.closeModal.forEach((t=>{t.addEventListener("click",(t=>{this.close()}))})));const e=this;this.modal.addEventListener("show.bs.modal",(function(t){e.defaultOptions.onShow&&zzb.types.isFunction(e.defaultOptions.onShow)&&e.defaultOptions.onShow(t)})),this.modal.addEventListener("shown.bs.modal",(function(t){if(e.defaultOptions.hasAutoBackdrop){let t=e.modal.nextElementSibling;t&&t.classList.contains("modal-backdrop")&&(e.modal.style.zIndex="2055",t.style.zIndex="2050")}e.defaultOptions.onShown&&zzb.types.isFunction(e.defaultOptions.onShown)&&e.defaultOptions.onShown(t)})),this.modal.addEventListener("hide.bs.modal",(function(t){e.defaultOptions.onHide&&zzb.types.isFunction(e.defaultOptions.onHide)&&e.defaultOptions.onHide(t)})),this.modal.addEventListener("hidden.bs.modal",(function(t){e.defaultOptions.onHidden&&zzb.types.isFunction(e.defaultOptions.onHidden)&&e.defaultOptions.onHidden(t),e.defaultOptions.doAutoDestroy&&e.bsModal&&(e.bsModal.dispose(),e.modal.remove())})),this.target=document.getElementById(t.target),this.target&&this.target.addEventListener("click",(t=>{this.open()}))}open(){this.bsModal?this.bsModal.show():(this.modal.classList.add("show-modal"),setTimeout((()=>{this.animateIn()}),10))}close(){this.bsModal?this.bsModal.hide():(this.animateOut(),setTimeout((()=>{this.modal.classList.remove("show-modal")}),250))}animateIn(){this.modal.classList.add("animate-modal")}animateOut(){this.modal.classList.remove("animate-modal")}destroy(){this.bsModal&&(this.bsModal.hide(),this.defaultOptions.doAutoDestroy||(this.bsModal.dispose(),this.modal.remove()))}static BUTTON_CLOSE="button-close";static BUTTON_OK="button-ok";static BUTTON_YES="button-yes";static BUTTON_NO="button-no";static BUTTON_CANCEL="button-cancel";static TYPE_NONE="none";static TYPE_PRIMARY="primary";static TYPE_SECONDARY="secondary";static TYPE_SUCCESS="success";static TYPE_DANGER="danger";static TYPE_WARNING="warning";static TYPE_INFO="info";static TYPE_LIGHT="light";static TYPE_DARK="dark";static TYPE_LINK="link";static getDialogDefaults(t){const e={htmlDialog:"",id:zzb.uuid.newV4(),type:s.TYPE_NONE,classDialog:"",classBackdrop:"",extraAttributes:"",noFade:!1,noFocus:!1,noKeyboard:!1,title:"",body:"",buttons:[],onShow:null,onShown:null,onHide:null,onHidden:null,doVerticalCenter:!0,doAutoDestroy:!0,forceNoBootstrap:!1,hasAutoBackdrop:!1,isScrollable:!1,isNoFooter:!1,classWidthMod:"",isFullscreen:!1,classFullscreenMod:""};return zzb.types.isObject(t)?zzb.types.merge(e,t):e}static getButtonDefaults(t){const e={id:null,type:s.TYPE_NONE,label:"",className:"",action:null,isDismiss:!1,isOutline:!1,ztrigger:null};return zzb.types.isObject(t)?zzb.types.merge(e,t):e}static getButtonPreset(t,e,r){let o=s.getButtonDefaults();switch(o.isDismiss=!0,e===r-1?o.type=s.TYPE_PRIMARY:e===r-2&&(o.type=s.TYPE_SECONDARY),t){case"button-close":o.label="Close";break;case"button-ok":o.label="Ok";break;case"button-accept":o.label="Accept";break;case"button-yes":o.label="Yes";break;case"button-no":o.label="No";break;case"button-cancel":o.label="Cancel";break;default:o=null}return o&&o.label&&(o.ztrigger=o.label.toLowerCase()),o}static validateType(t){if(!t)return s.TYPE_NONE;switch(t){case s.TYPE_PRIMARY:case s.TYPE_SECONDARY:case s.TYPE_SUCCESS:case s.TYPE_DANGER:case s.TYPE_WARNING:case s.TYPE_INFO:case s.TYPE_LIGHT:case s.TYPE_DARK:case s.TYPE_LINK:return t;default:return s.TYPE_NONE}}static isTypeNone(t){return s.validateType(t)===s.TYPE_NONE}getId(){return zzb.types.isStringNotEmpty(this.defaultOptions.id)||(this.defaultOptions.id=zzb.uuid.newV4()),this.defaultOptions.id}getClassBackdrop(){return zzb.types.isStringNotEmpty(this.defaultOptions.classBackdrop)||(this.defaultOptions.classBackdrop=""),this.defaultOptions.classBackdrop}getClassDialog(){return zzb.types.isStringNotEmpty(this.defaultOptions.classDialog)||(this.defaultOptions.classDialog=""),this.defaultOptions.classDialog}getTitle(){return zzb.types.isStringNotEmpty(this.defaultOptions.title)||(this.defaultOptions.title=""),this.defaultOptions.title}getBody(){return zzb.types.isStringNotEmpty(this.defaultOptions.body)||(this.defaultOptions.body=""),this.defaultOptions.body}createModal(){if(this.defaultOptions.htmlDialog&&!zzb.types.isStringNotEmpty(this.defaultOptions.htmlDialog))return document.body.insertAdjacentHTML("beforeend",htmlModal),document.getElementById(this.getId());const t=zzb.types.merge({id:this.getId(),arialabel:"arialabel"+this.getId(),classBackdrop:this.getClassBackdrop(),classDialog:this.getClassDialog(),title:this.getTitle(),body:this.getBody(),classVerticalCenter:this.defaultOptions.doVerticalCenter?" modal-dialog-centered":"",classModalHeader:"",noHeaderCloseButton:!1,noHeaderCloseButtonButton:"",dataKeyboard:null,focus:1!=this.defaultOptions.noFocus,keyboard:1!=this.defaultOptions.noKeyboard,classScrollable:this.defaultOptions.isScrollable?" modal-dialog-scrollable":"",classNoFooter:this.defaultOptions.isNoFooter?" d-none":"",classWidthMod:"",classFullscreen:""},this.defaultOptions);t.classFade=" fade",zzb.types.isBoolean(t.noFade)&&!0===t.noFade&&(t.classFade=""),s.isTypeNone(t.type)||(t.classModalHeader+=" alert-"+t.type),zzb.types.isStringNotEmpty(t.classDialog)&&(t.classDialog=" "+t.classDialog),zzb.types.isStringNotEmpty(t.classBackdrop)&&(t.classBackdrop=" "+t.classBackdrop),!0!==t.hasAutoBackdrop||zzb.types.isStringNotEmpty(t.dataBackdrop)||(t.dataBackdrop="true"),zzb.types.isStringNotEmpty(t.dataBackdrop)&&(t.hasAutoBackdrop=!0,t.extraAttributes+=' data-bs-backdrop="'+t.dataBackdrop+'"'),zzb.types.isStringNotEmpty(t.classWidthMod)&&(t.classWidthMod=" modal-"+t.classWidthMod),1==t.isFullscreen&&(t.classFullscreen=" modal-fullscreen",zzb.types.isStringNotEmpty(t.classFullscreenMod)&&(t.classFullscreen=t.classFullscreen+"-"+t.classFullscreenMod+"-down")),zzb.types.isBoolean(t.dataKeyboard)&&(t.extraAttributes+=' data-bs-keyboard="'+t.dataKeyboard+'"'),!0!==t.noHeaderCloseButton&&(t.noHeaderCloseButtonButton='<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>');document.body.insertAdjacentHTML("beforeend",zzb.strings.format('<div class="modal{classFade}{classBackdrop}" {extraAttributes} id="{id}" tabindex="-1" role="dialog" aria-labelledby="{arialabel}" aria-hidden="true"><div class="modal-dialog{classVerticalCenter}{classFullscreen}{classWidthMod}{classScrollable}{classDialog}" role="document"><div class="modal-content"><div class="modal-header{classModalHeader}"><h5 class="modal-title" id="{arialabel}">{title}</h5>{noHeaderCloseButtonButton}</div><div class="modal-body">{body}</div><div class="modal-footer{classNoFooter}"></div></div></div></div>',t));const e=document.getElementById(this.getId());if(!e)throw new Error("unexpected that modal has not been created");const r=this;Array.isArray(t.buttons)||(t.buttons=[]);const o=t.buttons.length;return t.buttons.forEach((function(t,n){zzb.types.isStringNotEmpty(t)&&(t=s.getButtonPreset(t,n,o)),zzb.types.isObject(t)&&(zzb.types.isStringNotEmpty(t.id)||(t.id="button-"+n+"-"+r.getId()),s.isTypeNone(t.type)||(t.isOutline?t.className+=" btn-outline-"+t.type:t.className+=" btn-"+t.type),t.isDismiss&&(zzb.types.isFunction(t.action)||(t.action=function(t,e){t.close()}),zzb.dom.setAttribute(e.querySelector(".modal-header button[data-bs-dismiss]"),"aria-label",t.label)),zzb.types.isStringNotEmpty(t.ztrigger)&&(t.ztrigger=zzb.strings.format(' ztrigger="{0}"',t.ztrigger)),zzb.dom.hasElement(e.querySelector(".modal-footer"))&&(e.querySelector(".modal-footer").insertAdjacentHTML("beforeend",zzb.strings.format('<button id="{id}" type="button" class="btn {className}"{ztrigger}>{label}</button>',t)),document.getElementById(t.id).addEventListener("click",(function(e){if(t&&zzb.types.isFunction(t.action))return t.action.call(document.getElementById(t.id),r,e)}))))})),this.defaultOptions=t,document.getElementById(this.getId())}}const r=function(){this.modals={}};r.prototype.ZazzyDialog=s,r.prototype.modal=function(t){if(t&&t.id&&zzb.types.isStringNotEmpty(t.id)&&this.modals[t.id])return this.modals[t.id];const e=new s(t);if(e&&zzb.types.isStringNotEmpty(e.getId()))return e;throw new Error("Failed to create dialog")},r.prototype.showMessage=function(t){const e=zzb.dialogs.modal(zzb.types.merge({type:s.TYPE_NONE,buttons:[s.BUTTON_OK]},t));if(!0===t.noAutoOpen)return e;e.open()},r.prototype.showMessageChoice=function(t){const e=zzb.dialogs.modal(zzb.types.merge({type:s.TYPE_NONE,buttons:[s.BUTTON_CANCEL,s.getButtonDefaults({type:s.TYPE_PRIMARY,label:"Accept",action:function(t,e){t.close()}})]},t));if(!0===t.noAutoOpen)return e;e.open()},r.prototype.handleError=function(t){if((t=zzb.types.merge({log:null,type:s.TYPE_DANGER,title:"",body:'<div class="zzb-dialog-errors">{errors}</div><div class="zzb-dialog-message">{message}</div>',message:"",errs:null,errors:"",buttons:[s.getButtonDefaults({type:s.TYPE_DANGER,label:"Ok",action:function(t,e){t.close()}})]},t)).log&&console.log(t.log),!zzb.types.isStringNotEmpty(t.errors)&&zzb.types.isArray(t.errs)){const e=[];t.errs.forEach((function(t,s){t.message&&zzb.types.isStringNotEmpty(t.message)&&e.push(zzb.strings.format('<div class="zzb-dialog-error-item">{0}</div>',t.message))})),t.errors=e.join("\n")}t.body=zzb.strings.format(t.body,t),this.showMessage(t)},e.y=r},171:(t,e)=>{function s(){}s.prototype.hasUIHover=function(){return!window.matchMedia("(hover: none)").matches},s.prototype.hasElement=function(t){return t},s.prototype.setAttribute=function(t,e,s){t&&(zzb.types.isObject(t)?t.setAttribute(e,s):zzb.types.isArray(t)&&t.forEach((function(t){t.setAttribute(e,s)})))},s.prototype.getAttributeElse=function(t,e,s){if(null==s&&(s=null),!t)return s;let r=t.getAttribute(e);return zzb.types.isStringNotEmpty(r)?r:s},s.prototype.getAttributes=function(t,e,s){if(!t||!e)return{};zzb.types.isNumber(s)||(s=-1);let r={};return[].forEach.call(t.attributes,(function(t){if(e.test(t.name))if(s<=0)r[t.name]=t.value;else{let e=t.name.substr(s).replace(/-(.)/g,(function(t,e){return e.toUpperCase()}));r[e]=t.value}})),r},e.v=s},154:(t,e)=>{const s=function(){};s.prototype.getPO=function(t,e){let s=t[e];return s||this.getPermObject(e+":")},s.prototype.getPermObjectFromPermkeys=function(t){const e={},s=this;if(Array.isArray(t))t.forEach((function(t){let r=s.getPermObject(t);r.key&&(e[r.key]=r)}));else if(zzb.types.isObject(t))for(const r in t){let o=t[r];o||(o="");let n=null;n=o.indexOf(":")<0?s.getPermObject(r+":"+o):s.getPermObject(o),n&&n.key&&(e[n.key]=n)}return e},s.prototype.mergePermkey=function(t,e){if(!e||!zzb.types.isStringNotEmpty(e))return t;if(!t||!zzb.types.isStringNotEmpty(t))return e;let s=null,r={},o={};if(t.indexOf(":")<=0?(r.key=t.trim(),r.perm=""):(s=t.split(":"),r.key=s[0].trim(),r.perm=s[1].trim().toUpperCase()),e.indexOf(":")<=0?(o.key=e.trim().toUpperCase(),o.perm=""):(s=e.split(":"),o.key=s[0].trim(),o.perm=s[1].trim().toUpperCase()),r.key!==o.key||r.perm===o.perm||0===o.perm.length)return t;if(0===r.key.length)return e;for(let t=0;t<o.perm.length;t++)r.perm.indexOf(o.perm[t])<0&&(r.perm+=o.perm[t]);return r.key+":"+r.perm},s.prototype.getPermObject=function(t,e,s){let r={key:null,perm:null,attr:{},toPermkey:function(){return this.key+":"+this.perm}};if((s||zzb.types.isStringNotEmpty(s))&&(t=this.mergePermkey(t,s)),!t||!zzb.types.isStringNotEmpty(t))return r.attr=this.getPermAttributes(),r;if(t.indexOf(":")<=0)return r.key=t,r.perm="",r.attr=this.getPermAttributes(),r;let o=t.split(":");if(r.key=o[0],r.perm=o[1],r.perm=r.perm.trim().toUpperCase(),r.perm.length>0&&e&&zzb.types.isStringNotEmpty(e)){e=e.trim().toUpperCase();for(let t=r.perm.length-1;t>=0;t--)e.indexOf(r.perm[t])<0&&(r.perm=r.perm.replace(r.perm[t],""))}return r.attr=this.getPermAttributes(r.toPermkey(),e),r};const r=new RegExp("^[CRUDX]*$");s.prototype.getPermAttributes=function(t){let e={canRead:!1,canCreate:!1,canUpdate:!1,canDelete:!1,canExecute:!1};return t&&zzb.types.isStringNotEmpty(t)?(t.indexOf(":")>=0&&(t=t.split(":")[1]),0===(t=t.trim().toUpperCase()).length?e:r.test(t)?(e.canRead=t.indexOf("C")>=0,e.canCreate=t.indexOf("R")>=0,e.canUpdate=t.indexOf("U")>=0,e.canDelete=t.indexOf("D")>=0,e.canExecute=t.indexOf("X")>=0,e):e):e},s.prototype.hasMatch=function(t,e){if(!t||!e)return!1;let s=t;if(zzb.types.isStringNotEmpty(t)&&(s=this.getPermObject(t)),!zzb.types.isObject(s)||!s.key||!s.perm||0===s.perm.length)return!1;let r=null;if(zzb.types.isStringNotEmpty(e))r=this.getPermObject(e);else if(Array.isArray(e)){const t=this;e.forEach((function(e){if(zzb.types.isStringNotEmpty(e)&&(e=t.getPermObject(e)),e.key===s.key)return r=e,!1}))}else{if(!zzb.types.isObject(e))return!1;if(e.key)r=e;else{if(!e[s.key])return!1;r=zzb.types.isStringNotEmpty(e[s.key])?this.getPermObject(s.key+":"+e[s.key]):e[s.key]}}if(!r||!r.key||!r.perm||0===!r.perm.length)return!1;for(let t=0;t<r.perm.length;t++)if(s.perm.indexOf(r.perm[t])>=0)return!0;return!1},e.Q=s},334:(t,e)=>{const s=function(){};function r(t){if((t=zzb.types.merge({type:"error",message:null,field:"_system",stack:null,isErr:!0,title:null},t)).isErr)switch("warn"===t.type?t.type="warning":"err"===t.type?t.type="error":"crit"===t.type?t.type="critical":"emerg"===t.type&&(t.type="emergency"),t.type){case"warning":case"notice":case"info":case"debug":t.isErr=!1;break;default:t.isErr=!0}return t}s.prototype.newROB=function(t){return zzb.types.merge({message:null,messageType:null,errs:null,recs:[],columns:[],paginate:{page:0,limit:0,count:0},hasErrors:function(){return this.errs&&Array.isArray(this.errs)&&this.errs.length>0},hasColumns:function(){return this.columns&&Array.isArray(this.columns)&&this.columns.length>0},hasRecords:function(){return this.recs&&Array.isArray(this.recs)&&this.recs.length>0},isEmpty:function(){return!this.hasRecords()||this.hasRecords()&&null===this.first()},first:function(){return this.recs&&Array.isArray(this.recs)&&this.recs.length>0?this.recs[0]:null},find:function(t,e){let s=null;return this.recs.forEach((function(r){if(r&&zzb.types.isObject(r)&&!Array.isArray(r)&&r[t]===e)return s=r,!1})),s},length:function(){return this.recs&&Array.isArray(this.recs)?this.recs.length:0}},t)},s.prototype.toObject=function(t){if(!t||!Array.isArray(t))return{_system:[t]};let e={};return t.forEach((function(t){t&&(t.field||(t.field="_system"),e[t.field]||(e[t.field]=[]),e[t.field].push(t))})),e};const o=function(t,e){if(!t)return r();if(zzb.types.isStringNotEmpty(t))return r(zzb.types.merge({message:t},e));if(!Array.isArray(t)&&zzb.types.isObject(t))return r(t);throw new Error("bad input in createError - unrecognized err datatype")};s.prototype.createError=o,s.prototype.sanitizeErrors=function(t){let e=null;return t?(Array.isArray(t)?t.length>0&&(e=[],t.forEach((function(t){e.push(o(t))}))):e=[o(t)],e):e},s.prototype.sanitizeRecords=function(t){return t?Array.isArray(t)?t:[t]:[]},s.prototype.toListErrs=function(t){return zzb.rob.toList(t)},s.prototype.toList=function(t){let e=[],s=[],r=[],o=[];return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(t){!0===t.isErr?"_system"===t.system?s.push(t):zzb.types.isStringNotEmpty(t.field)?"_system"===t.field?s.push(t):e.push(t):s.push(t):"_system"===t.system?r.push(t):zzb.types.isStringNotEmpty(t.field)?"_system"===t.field?r.push(t):o.push(t):r.push(t)})),{system:s,fields:e,systemMessages:r,fieldMessages:o,hasErrors:function(){return this.hasSystemErrors()||this.hasFieldErrors()},hasSystemErrors:function(){return this.system&&this.system.length>0},hasFieldErrors:function(){return this.fields&&this.fields.length>0},combinedErrors:function(){return this.system.concat(this.fields)},hasMessages:function(){return this.hasSystemMessages()||this.hasFieldMessages()},hasSystemMessages:function(){return this.systemMessages&&this.systemMessages.length>0},hasFieldMessages:function(){return this.fieldMessages&&this.fieldMessages.length>0},combinedMessages:function(){return this.systemMessages.concat(this.fieldMessages)},getByFieldName:function(t,e){if("_system"===e)return t?this.systemMessages:this.system;let s=[];return e?((t?this.fieldMessages:this.fields).forEach((function(r){r.field===e&&(r.isMessage=t,s.push(r))})),s):s},getErrsByName:function(t){return this.getByFieldName(!1,t)},getMessagesByName:function(t){return this.getByFieldName(!0,t)},getAnyByName:function(t){let e=this.getErrsByName(t),s=this.getMessagesByName(t);return e.concat(s)}}},s.prototype.renderListErrs=function(t){return zzb.rob.renderList(t)},s.prototype.renderList=function(t){t=zzb.types.merge({targets:[],format:"text",defaultTitle:"",template:null,htmlWrapList:'<ul class="zzb-rob-{0}">{1}</ul>'},t);let e=[];if(t.errs&&zzb.types.isArrayHasRecords(t.errs)&&(t.targets=t.errs),zzb.types.isArrayHasRecords(t.targets)){let s=t.targets.length>1;if(t.targets.forEach((function(r){let o="";zzb.types.isStringNotEmpty(t.defaultTitle)?o=t.defaultTitle:zzb.types.isStringNotEmpty(r.field)&&(o=r.field),t.template?e.push(zzb.strings.format(t.template,o,r.message)):(r.type||(r.type=r.isMessage?"message":"unknown"),s||"html"!==t.format?"html"===t.format||"html-list"===t.format?e.push(zzb.strings.format('<li class="zzb-rob-list-item-{0}">{1}</li>',r.type,r.message)):"html-list-label"===t.format?e.push(zzb.strings.format('<li class="zzb-rob-list-item-{0}"><span>{1}:</span> {2}</li>',r.type,o,r.message)):"label"===t.format?e.push(zzb.strings.format("{0}: {1}",o,r.message)):"text-punctuated"===t.format?e.push(zzb.strings.toFirstCapitalEndPeriod(r.message)+" "):e.push(zzb.strings.format(r.message)):e.push(zzb.strings.format('<div class="zzb-rob-list-item-{0}">{1}</div>',r.type,r.message)))})),(s&&"html"===t.format||"html-list"===t.format||"html-list-label"===t.format)&&t.htmlWrapList)return zzb.strings.format(t.htmlWrapList,t.format,e.join(""))}return e.join("")},e.S=s},313:(t,e)=>{const s=function(){};function r(t){let e=new Error(t);return e.name="ValueError",e}var o;s.prototype.format=(o={},function(t){let e=Array.prototype.slice.call(arguments,1),s=0,n="UNDEFINED";if(Array.isArray(e)&&e.length>0&&Array.isArray(e[0])){let t=e[0].map((function(t){return t}));e=t}return t.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,(function(t,i,a,l){if(null!=i)return i;let p=a;if(p.length>0){if("IMPLICIT"===n)throw r("cannot switch from implicit to explicit numbering");n="EXPLICIT"}else{if("EXPLICIT"===n)throw r("cannot switch from explicit to implicit numbering");n="IMPLICIT",p=String(s),s+=1}let u=p.split("."),c=(/^\d+$/.test(u[0])?u:["0"].concat(u)).reduce((function(t,e){return t.reduce((function(t,s){return null!=s&&e in Object(s)?["function"==typeof s[e]?s[e]():s[e]]:[]}),[])}),[e]).reduce((function(t,e){return e}),"");if(null==l)return c;if(Object.prototype.hasOwnProperty.call(o,l))return o[l](c);throw r('no transformer named "'+l+'"')}))}),s.prototype.formatEmpty=function(t){let e=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?t.replace(/{(\d+)}/g,(function(t,s){return void 0!==e[s]?e[s]:""})):t.replace(/{((?:(?=([^{}]+|{{[^}]*}}))\2)*)}/g,(function(t,s){return e.length>0&&e[0][s]?e[0][s]:""}))},s.prototype.appendIfMoreThan=function(t,e,s){return t&&t.length>s?t.substring(0,s)+e:t},s.prototype.joinArrToCommas=function(t,e){return t&&Array.isArray(t)&&0!==t.length?t.map(t,(function(s,r){let o="";return r<t.index-1&&(o=""),e?s[e]+o:s+o})).join(""):""},s.prototype.toPlural=function(t,e,s){return s=zzb.types.merge({forcePlural:!1,suffix:null},s),1!==e&&-1!==e||s.forcePlural?s.suffix?t+s.suffix:t+"s":t},s.prototype.capitalize=function(t){return zzb.types.isStringNotEmpty(t)?t.charAt(0).toUpperCase()+t.slice(1):""},s.prototype.toFirstCapitalEndPeriod=function(t){return zzb.types.isStringNotEmpty(t)&&(t=t.trim(),(t=zzb.strings.capitalize(t)).endsWith(t,".")||(t+=".")),t};const n=["K","M","G","T","P","E","Z","Y"],i=["KB","MB","GB","TB","PB","EB","ZB","YB"],a=["Kilobyte","Megabyte","Gigabyte","Terabyte","Petabyte","Exabyte","Zettabyte","Yottabyte"],l=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];s.prototype.sizeToHumanReadable=function(t,e,s,r){zzb.types.isStringNotEmpty(e)||(e="single");let o=" ";!0===s&&(o=""),r||(r=1);let p,u=1024,c="B";switch(e.toLowerCase()){case"full":p=a,c="Bytes";break;case"double":p=i;break;case"eic":p=l;break;default:p=n}if(Math.abs(t)<u)return t+o+c;let d=-1,y=Math.pow(r,10);do{t/=u,++d}while(Math.round(Math.abs(t)*y)/y>=u&&d<p.length-1);let f=t.toFixed(r)+"";return f=zzb.strings.trimSuffix(f,[".00",".0"]),f+o+p[d]},s.prototype.trimPrefix=function(t,e){t=zzb.types.toString(t);let s=[];zzb.types.isArray(e)?s=e:s.push(zzb.types.toString(e));for(let e=0;e<s.length;e++)if(t.startsWith(s[e]))return t.slice(s[e]);return t},s.prototype.trimSuffix=function(t,e){t=zzb.types.toString(t);let s=[];zzb.types.isArray(e)?s=e:s.push(zzb.types.toString(e));for(let e=0;e<s.length;e++)if(t.endsWith(s[e]))return t.slice(0,-1*s[e].length);return t},s.prototype.millisecondsTimeToHumanReadable=function(t){let e=t/1e3;const s=Math.floor(e/31536e3),r=Math.floor((e%=31536e3)/86400),o=Math.floor((e%=86400)/3600),n=Math.floor((e%=3600)/60),i=e%60;return r||o||i||n?(s?s+"y ":"")+(r?r+"d ":"")+(o?o+"h ":"")+(n?n+"m ":"")+Number.parseFloat(i).toFixed(2)+"s":"< 1s"},s.prototype.toBool=function(t){if(!zzb.types.isStringNotEmpty(t))return t;switch(t.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"":case null:case void 0:return!1;default:return Boolean(t)}},s.prototype.parseIntOrZero=function(t,e){return zzb.strings.parseTypeElse(t,"int",0,!!e)},s.prototype.parseFloatOrZero=function(t,e){return zzb.strings.parseTypeElse(t,"float",0,!!e)},s.prototype.parseBoolOrFalse=function(t,e){return zzb.strings.parseTypeElse(t,"bool",!1,!!e)},s.prototype.parseTypeElse=function(t,e,s,r){let o=r||zzb.types.isArray(t);if(null==t)return o?[]:s;zzb.types.isArray(t)||(t=[t]);for(let r=0;r<t.length;r++)if(null==t[r]||null===t[r])t[r]=s;else{let o=!1;switch(e){case"int":parsed=parseInt(t[r]),o=!0;break;case"float":parsed=parseFloat(t[r]),o=!0;break;case"bool":t[r]=zzb.strings.toBool(t[r]);break;case"date":case"date-iso":t[r]=zzb.types.isStringNotEmpty(t[r])?t[r]:s;break;default:zzb.types.isString(t[r])||zzb.types.isArray(t[r])||zzb.types.isObject(t[r])||(t[r]+="")}o&&(t[r]=isNaN(parsed)?s:parsed)}return o?t:t[0]},s.prototype.mergeElseEmpty=function(t,e,s){let r=e;return zzb.types.isStringNotEmpty(r)||(r=s,zzb.types.isStringNotEmpty(r))?zzb.strings.format(t,r):""},e.j=s},449:(t,e)=>{function s(){}s.prototype.merge=function(t,e){return r(t,e)};const r=function(...arguments){let t={};const e=e=>{for(let s in e)e.hasOwnProperty(s)&&("[object Object]"===Object.prototype.toString.call(e[s])?t[s]=r(t[s],e[s]):t[s]=e[s])};for(let t=0;t<arguments.length;t++)e(arguments[t]);return t};s.prototype.truncate=function(t,e){return t.toString().substring(0,t.toString().indexOf("."))+t.toString().substr(t.toString().indexOf("."),e+1)},s.prototype.escapeHtml=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},s.prototype.baseToString=function(t){if("string"==typeof t)return t;if(zzb.types.isNumber(t)){let e=trimSuffix+"";return"0"==e&&1/t==-INFINITY?"-0":e}return""},s.prototype.toString=function(t){return null==t?"":zzb.types.baseToString(t)},s.prototype.isArray=function(t){return t&&void 0!==t&&"[object Array]"===Object.prototype.toString.call(t)},s.prototype.isArrayHasRecords=function(t){return zzb.types.isArray(t)&&t.length>0},s.prototype.isObject=function(t){return t&&"object"==typeof t},s.prototype.isNumber=function(t){return!isNaN(t-0)&&null!==t&&""!==t&&!1!==t},s.prototype.isNonEmptyString=function(t){return zzb.types.isStringNotEmpty(t)},s.prototype.isStringNotEmpty=function(t){return t&&"string"==typeof t&&t.trim().length>0},s.prototype.isEmptyString=function(t){return zzb.types.isStringEmpty(t)},s.prototype.isStringEmpty=function(t){return t&&"string"==typeof t&&0===t.trim().length},s.prototype.isString=function(t){return t&&"string"==typeof t},s.prototype.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},s.prototype.isBoolean=function(t){return"boolean"==typeof t},s.prototype.compare=function(t,e,s){return t===e?0:s?t>e?-1:1:t>e?1:-1},e.V=s},781:(t,e)=>{const s=function(){};s.prototype.newV4=function(){function t(t){return 0|t*Math.random()}function e(e){let s="";for(let r=0;r<e;++r)s+=t(16).toString(16);return s}return e(8)+"-"+e(4)+"-4"+e(3)+"-"+(3&t(16)|8).toString(16)+e(3)+"-"+e(12)},s.prototype.isV4=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},s.prototype.isValid=function(t){return/^([a-f\d]{8}(-[a-f\d]{4}){3}-[a-f\d]{12}?)$/i.test(t)},e.V=s},936:function(t,e,s){var r,o,n,i;n=this,i=function(){const t=s(449).V,e=s(781).V,r=s(313).j,o=s(171).v,n=s(772).y,i=s(154).Q,a=s(334).S,l=s(546).h;function p(){}return p.prototype.types=new t,p.prototype.uuid=new e,p.prototype.strings=new r,p.prototype.dom=new o,p.prototype.dialogs=new n,p.prototype.perms=new i,p.prototype.rob=new a,p.prototype.ajax=new l,new p},"undefined"!=typeof window?window.zzb=i():void 0!==n?n.zzb=i():void 0===(o="function"==typeof(r=i)?r.call(e,s,e,t):r)||(t.exports=o)}},e={};(function s(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,s),n.exports})(936)})();