//! zzb.ui.min.js v2.8.1 (https://github.com/jpfluger/zazzy-browser)
//! MIT License; Copyright 2017-2023 Jaret Pfluger
(()=>{var t={546:(t,e)=>{function o(){}o.prototype.ajax=function(t){return this.request(t,t.callback)},o.prototype.request=function(t,e){return zzb.types.isFunction(e)||(e=function(){}),t=zzb.types.merge({url:null,method:"GET",body:null,expectType:"text",headers:{},RAWRETURN:!1,SKIPREDIRECT:!1,SKIPFLASH:!1,SHOWCATCHMESSAGE:!1,NOCATCHLOG:!1,NOCATCHFLASH:!1,CATCHFLASHMESSAGE:""},t),zzb.types.isStringNotEmpty(t.url)?zzb.types.isStringNotEmpty(t.method)?void fetch(t.url,{method:t.method,body:t.body,headers:t.headers}).then((function(e){if(!e.ok)throw new Error("Remote service returned unexpected status "+e.status+".");switch(t.expectType){case"json":return e.json();case"text":return e.text();case"blob":return e.blob();default:throw new Error("Unknown content received from remote service.")}})).then((function(o){const s={request:t,data:o};if(!0===s.request.RAWRETURN)return e(s,null);let i=!1;const r=zzb.rob.newROB();if("json"!==s.request.expectType)r.recs=[s.data];else{if(!0!==s.request.SKIPREDIRECT&&zzb.types.isStringNotEmpty(o.redirect))return zzb.types.isFunction(s.request.onRedirect)?void s.request.onRedirect(o,(function(t){t||(window.location.href=o.redirect)})):void(zzb.types.isStringNotEmpty(o.message)?zzb.dialogs.showMessage({type:zzb.types.isStringNotEmpty(o.messageType)?o.messageType:null,classDialog:"zzb-dialog-flash-message zzb-dialog-flash-redirect"+zzb.strings.mergeElseEmpty(" zzb-dialog-flash-status-{0}",o.messageType),dataBackdrop:"static",body:o.message,onHide:function(t){window.location.href=o.redirect}}):window.location.href=o.redirect);o.ISROBERRORS||(o.err?(o.errs=zzb.rob.sanitizeErrors(o.err),o.err=null):o.error?(o.errs=zzb.rob.sanitizeErrors(o.error),o.err=null):o.errs&&(o.errs=zzb.rob.sanitizeErrors(o.errs),o.err=null));let n=o.recs;o.ISROBRECS||(o.recs?n=zzb.rob.sanitizeRecords(o.recs):o.rec?(n=zzb.rob.sanitizeRecords(o.rec),o.rec=null):Array.isArray(o.errs)&&0!==o.errs.length||(n=zzb.rob.sanitizeRecords(o))),o.paginate&&(r.paginate=o.paginate),r.errs=o.errs,r.recs=n,n=null,r.columns=o.columns,r.listErrs=zzb.rob.toList(r.errs),!0!==t.SKIPFLASH&&zzb.types.isStringNotEmpty(o.message)&&(i=!0,zzb.dialogs.showMessage({type:zzb.types.isStringNotEmpty(o.messageType)?o.messageType:null,classDialog:"zzb-dialog-flash-message"+zzb.strings.mergeElseEmpty(" zzb-dialog-flash-status-{0}",o.messageType,r.hasErrors()?"error":"okay"),dataBackdrop:"static",body:o.message,onHide:function(t){s.rob=r,e(s,null)}})),zzb.types.isFunction(s.request.onFinish)&&(i=!0,s.request.onFinish(r,(function(t){!0!==t&&(s.rob=r,e(s,null))})))}if(!0!==i){s.rob=r;try{e(s,null)}catch(t){throw console.log(n.APPEND_FAILED_HANDLER_UNEXPECTED,"error:",t),new Error(n.APPEND_FAILED_HANDLER_UNEXPECTED)}}})).catch((function(o){let s="";if(o&&zzb.types.isStringNotEmpty(o.message)&&(!0!==t.NOCATCHLOG&&n.APPEND_FAILED_HANDLER_UNEXPECTED!==o.message&&console.log(o.message),!0!==t.SHOWCATCHMESSAGE&&(s=o.message)),!0!==t.NOCATCHFLASH){let e="";zzb.types.isStringNotEmpty(s)&&(e=zzb.strings.format(' <span class="zzb-dialog-error-catch">{0}</span>',s)),zzb.types.isStringNotEmpty(t.CATCHFLASHMESSAGE)?zzb.ajax.showMessageFailedAction({message:t.CATCHFLASHMESSAGE+e}):zzb.ajax.showMessageFailedAction({message:n.MSG_FAILED_REQUEST_UNEXPECTED+e})}e(null,new Error(s))})):e(null,new Error("No url method defined to fetch request.")):e(null,new Error("No url defined to fetch request."))},o.prototype.get=function(t,e){t.method="GET",zzb.ajax.request(t,e)},o.prototype.post=function(t,e){t.method="POST",zzb.ajax.request(t,e)},o.prototype.getBLOB=function(t,e){t.method="GET",t.expectType="blob",zzb.ajax.request(t,e)},o.prototype.getTEXT=function(t,e){t.method="GET",t.expectType="text",zzb.ajax.request(t,e)},o.prototype.getJSON=function(t,e){t.method="GET",t.expectType="json",zzb.ajax.request(t,e)},o.prototype.postJSON=function(t,e){t.method="POST",zzb.types.isStringNotEmpty(t.expectType)||(t.expectType="json"),t.headers={"Content-Type":"application/json"},zzb.types.isStringNotEmpty(t.body)?t.body="{}":t.body=JSON.stringify(t.body),zzb.ajax.request(t,e)},o.prototype.postFORM=function(t,e){t.method="POST",t.expectType="json",zzb.ajax.request(t,e)};const n=function(t){};n.MSG_FAILED_REQUEST_UNEXPECTED="Communications with remote service failed unexpectedly.",n.APPEND_FAILED_HANDLER_UNEXPECTED="Report this to the remote service administrator.",o.prototype.showMessageFailedAction=function(t){t=zzb.types.merge({err:null,number:null,message:n.MSG_FAILED_ACTION_UNEXPECTED},t),zzb.types.isNumber(t.number)?t.number=" ("+t.number+")":t.number="",t.err&&console.log(t.err),zzb.dialogs.showMessage({classDialog:"zzb-dialog-flash-message zzb-flash-invalid",dataBackdrop:"static",body:t.message+t.number})},e.h=o},772:(t,e)=>{class o{constructor(t){this.defaultOptions=o.getDialogDefaults(t),this.defaultOptions.onShow="function"==typeof t.onShow?t.onShow:function(){},this.defaultOptions.onShown="function"==typeof t.onShown?t.onShown:function(){},this.defaultOptions.onHide="function"==typeof t.onHide?t.onHide:function(){},this.defaultOptions.onHidden="function"==typeof t.onHidden?t.onHidden:function(){},this.isBootstrap=!0!==this.defaultOptions.forceNoBootstrap&&null!=window.bootstrap,this.modal=null,zzb.types.isStringNotEmpty(this.defaultOptions.id)&&(this.modal=document.getElementById(this.defaultOptions.id)),this.modal||(this.modal=this.createModal()),this.defaultOptions.htmlDialog="",this.defaultOptions.body="",this.isBootstrap?this.bsModal=new bootstrap.Modal(this.modal,{focus:!0===this.defaultOptions.focus,keyboard:!0===this.defaultOptions.keyboard}):(this.closeModal=this.modal.querySelectorAll("[data-bs-dismiss]"),this.closeModal.forEach((t=>{t.addEventListener("click",(t=>{this.close()}))})));const e=this;this.modal.addEventListener("show.bs.modal",(function(t){e.defaultOptions.onShow&&zzb.types.isFunction(e.defaultOptions.onShow)&&e.defaultOptions.onShow(t)})),this.modal.addEventListener("shown.bs.modal",(function(t){if(e.defaultOptions.hasAutoBackdrop){let t=e.modal.nextElementSibling;t&&t.classList.contains("modal-backdrop")&&(e.modal.style.zIndex="2055",t.style.zIndex="2050")}e.defaultOptions.onShown&&zzb.types.isFunction(e.defaultOptions.onShown)&&e.defaultOptions.onShown(t)})),this.modal.addEventListener("hide.bs.modal",(function(t){e.defaultOptions.onHide&&zzb.types.isFunction(e.defaultOptions.onHide)&&e.defaultOptions.onHide(t)})),this.modal.addEventListener("hidden.bs.modal",(function(t){e.defaultOptions.onHidden&&zzb.types.isFunction(e.defaultOptions.onHidden)&&e.defaultOptions.onHidden(t),e.defaultOptions.doAutoDestroy&&e.bsModal&&(e.bsModal.dispose(),e.modal.remove())})),this.target=document.getElementById(t.target),this.target&&this.target.addEventListener("click",(t=>{this.open()}))}open(){this.bsModal?this.bsModal.show():(this.modal.classList.add("show-modal"),setTimeout((()=>{this.animateIn()}),10))}close(){this.bsModal?this.bsModal.hide():(this.animateOut(),setTimeout((()=>{this.modal.classList.remove("show-modal")}),250))}animateIn(){this.modal.classList.add("animate-modal")}animateOut(){this.modal.classList.remove("animate-modal")}destroy(){this.bsModal&&(this.bsModal.hide(),this.defaultOptions.doAutoDestroy||(this.bsModal.dispose(),this.modal.remove()))}static BUTTON_CLOSE="button-close";static BUTTON_OK="button-ok";static BUTTON_YES="button-yes";static BUTTON_NO="button-no";static BUTTON_CANCEL="button-cancel";static TYPE_NONE="none";static TYPE_PRIMARY="primary";static TYPE_SECONDARY="secondary";static TYPE_SUCCESS="success";static TYPE_DANGER="danger";static TYPE_WARNING="warning";static TYPE_INFO="info";static TYPE_LIGHT="light";static TYPE_DARK="dark";static TYPE_LINK="link";static getDialogDefaults(t){const e={htmlDialog:"",id:zzb.uuid.newV4(),type:o.TYPE_NONE,classDialog:"",classBackdrop:"",extraAttributes:"",noFade:!1,noFocus:!1,noKeyboard:!1,title:"",body:"",buttons:[],onShow:null,onShown:null,onHide:null,onHidden:null,doVerticalCenter:!0,doAutoDestroy:!0,forceNoBootstrap:!1,hasAutoBackdrop:!1,isScrollable:!1,isNoFooter:!1,classWidthMod:"",isFullscreen:!1,classFullscreenMod:""};return zzb.types.isObject(t)?zzb.types.merge(e,t):e}static getButtonDefaults(t){const e={id:null,type:o.TYPE_NONE,label:"",className:"",action:null,isDismiss:!1,isOutline:!1,ztrigger:null};return zzb.types.isObject(t)?zzb.types.merge(e,t):e}static getButtonPreset(t,e,n){let s=o.getButtonDefaults();switch(s.isDismiss=!0,e===n-1?s.type=o.TYPE_PRIMARY:e===n-2&&(s.type=o.TYPE_SECONDARY),t){case"button-close":s.label="Close";break;case"button-ok":s.label="Ok";break;case"button-accept":s.label="Accept";break;case"button-yes":s.label="Yes";break;case"button-no":s.label="No";break;case"button-cancel":s.label="Cancel";break;default:s=null}return s&&s.label&&(s.ztrigger=s.label.toLowerCase()),s}static validateType(t){if(!t)return o.TYPE_NONE;switch(t){case o.TYPE_PRIMARY:case o.TYPE_SECONDARY:case o.TYPE_SUCCESS:case o.TYPE_DANGER:case o.TYPE_WARNING:case o.TYPE_INFO:case o.TYPE_LIGHT:case o.TYPE_DARK:case o.TYPE_LINK:return t;default:return o.TYPE_NONE}}static isTypeNone(t){return o.validateType(t)===o.TYPE_NONE}getId(){return zzb.types.isStringNotEmpty(this.defaultOptions.id)||(this.defaultOptions.id=zzb.uuid.newV4()),this.defaultOptions.id}getClassBackdrop(){return zzb.types.isStringNotEmpty(this.defaultOptions.classBackdrop)||(this.defaultOptions.classBackdrop=""),this.defaultOptions.classBackdrop}getClassDialog(){return zzb.types.isStringNotEmpty(this.defaultOptions.classDialog)||(this.defaultOptions.classDialog=""),this.defaultOptions.classDialog}getTitle(){return zzb.types.isStringNotEmpty(this.defaultOptions.title)||(this.defaultOptions.title=""),this.defaultOptions.title}getBody(){return zzb.types.isStringNotEmpty(this.defaultOptions.body)||(this.defaultOptions.body=""),this.defaultOptions.body}createModal(){if(this.defaultOptions.htmlDialog&&!zzb.types.isStringNotEmpty(this.defaultOptions.htmlDialog))return document.body.insertAdjacentHTML("beforeend",htmlModal),document.getElementById(this.getId());const t=zzb.types.merge({id:this.getId(),arialabel:"arialabel"+this.getId(),classBackdrop:this.getClassBackdrop(),classDialog:this.getClassDialog(),title:this.getTitle(),body:this.getBody(),classVerticalCenter:this.defaultOptions.doVerticalCenter?" modal-dialog-centered":"",classModalHeader:"",noHeaderCloseButton:!1,noHeaderCloseButtonButton:"",dataKeyboard:null,focus:1!=this.defaultOptions.noFocus,keyboard:1!=this.defaultOptions.noKeyboard,classScrollable:this.defaultOptions.isScrollable?" modal-dialog-scrollable":"",classNoFooter:this.defaultOptions.isNoFooter?" d-none":"",classWidthMod:"",classFullscreen:""},this.defaultOptions);t.classFade=" fade",zzb.types.isBoolean(t.noFade)&&!0===t.noFade&&(t.classFade=""),o.isTypeNone(t.type)||(t.classModalHeader+=" alert-"+t.type),zzb.types.isStringNotEmpty(t.classDialog)&&(t.classDialog=" "+t.classDialog),zzb.types.isStringNotEmpty(t.classBackdrop)&&(t.classBackdrop=" "+t.classBackdrop),!0!==t.hasAutoBackdrop||zzb.types.isStringNotEmpty(t.dataBackdrop)||(t.dataBackdrop="true"),zzb.types.isStringNotEmpty(t.dataBackdrop)&&(t.hasAutoBackdrop=!0,t.extraAttributes+=' data-bs-backdrop="'+t.dataBackdrop+'"'),zzb.types.isStringNotEmpty(t.classWidthMod)&&(t.classWidthMod=" modal-"+t.classWidthMod),1==t.isFullscreen&&(t.classFullscreen=" modal-fullscreen",zzb.types.isStringNotEmpty(t.classFullscreenMod)&&(t.classFullscreen=t.classFullscreen+"-"+t.classFullscreenMod+"-down")),zzb.types.isBoolean(t.dataKeyboard)&&(t.extraAttributes+=' data-bs-keyboard="'+t.dataKeyboard+'"'),!0!==t.noHeaderCloseButton&&(t.noHeaderCloseButtonButton='<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>');document.body.insertAdjacentHTML("beforeend",zzb.strings.format('<div class="modal{classFade}{classBackdrop}" {extraAttributes} id="{id}" tabindex="-1" role="dialog" aria-labelledby="{arialabel}" aria-hidden="true"><div class="modal-dialog{classVerticalCenter}{classFullscreen}{classWidthMod}{classScrollable}{classDialog}" role="document"><div class="modal-content"><div class="modal-header{classModalHeader}"><h5 class="modal-title" id="{arialabel}">{title}</h5>{noHeaderCloseButtonButton}</div><div class="modal-body">{body}</div><div class="modal-footer{classNoFooter}"></div></div></div></div>',t));const e=document.getElementById(this.getId());if(!e)throw new Error("unexpected that modal has not been created");const n=this;Array.isArray(t.buttons)||(t.buttons=[]);const s=t.buttons.length;return t.buttons.forEach((function(t,i){zzb.types.isStringNotEmpty(t)&&(t=o.getButtonPreset(t,i,s)),zzb.types.isObject(t)&&(zzb.types.isStringNotEmpty(t.id)||(t.id="button-"+i+"-"+n.getId()),o.isTypeNone(t.type)||(t.isOutline?t.className+=" btn-outline-"+t.type:t.className+=" btn-"+t.type),t.isDismiss&&(zzb.types.isFunction(t.action)||(t.action=function(t,e){t.close()}),zzb.dom.setAttribute(e.querySelector(".modal-header button[data-bs-dismiss]"),"aria-label",t.label)),zzb.types.isStringNotEmpty(t.ztrigger)&&(t.ztrigger=zzb.strings.format(' ztrigger="{0}"',t.ztrigger)),zzb.dom.hasElement(e.querySelector(".modal-footer"))&&(e.querySelector(".modal-footer").insertAdjacentHTML("beforeend",zzb.strings.format('<button id="{id}" type="button" class="btn {className}"{ztrigger}>{label}</button>',t)),document.getElementById(t.id).addEventListener("click",(function(e){if(t&&zzb.types.isFunction(t.action))return t.action.call(document.getElementById(t.id),n,e)}))))})),this.defaultOptions=t,document.getElementById(this.getId())}}const n=function(){this.modals={}};n.prototype.ZazzyDialog=o,n.prototype.modal=function(t){if(t&&t.id&&zzb.types.isStringNotEmpty(t.id)&&this.modals[t.id])return this.modals[t.id];const e=new o(t);if(e&&zzb.types.isStringNotEmpty(e.getId()))return e;throw new Error("Failed to create dialog")},n.prototype.showMessage=function(t){const e=zzb.dialogs.modal(zzb.types.merge({type:o.TYPE_NONE,buttons:[o.BUTTON_OK]},t));if(!0===t.noAutoOpen)return e;e.open()},n.prototype.showMessageChoice=function(t){const e=zzb.dialogs.modal(zzb.types.merge({type:o.TYPE_NONE,buttons:[o.BUTTON_CANCEL,o.getButtonDefaults({type:o.TYPE_PRIMARY,label:"Accept",action:function(t,e){t.close()}})]},t));if(!0===t.noAutoOpen)return e;e.open()},n.prototype.handleError=function(t){if((t=zzb.types.merge({log:null,type:o.TYPE_DANGER,title:"",body:'<div class="zzb-dialog-errors">{errors}</div><div class="zzb-dialog-message">{message}</div>',message:"",errs:null,errors:"",buttons:[o.getButtonDefaults({type:o.TYPE_DANGER,label:"Ok",action:function(t,e){t.close()}})]},t)).log&&console.log(t.log),!zzb.types.isStringNotEmpty(t.errors)&&zzb.types.isArray(t.errs)){const e=[];t.errs.forEach((function(t,o){t.message&&zzb.types.isStringNotEmpty(t.message)&&e.push(zzb.strings.format('<div class="zzb-dialog-error-item">{0}</div>',t.message))})),t.errors=e.join("\n")}t.body=zzb.strings.format(t.body,t),this.showMessage(t)},e.y=n},171:(t,e)=>{function o(){}o.prototype.hasUIHover=function(){return!window.matchMedia("(hover: none)").matches},o.prototype.hasElement=function(t){return t},o.prototype.setAttribute=function(t,e,o){t&&(zzb.types.isObject(t)?t.setAttribute(e,o):zzb.types.isArray(t)&&t.forEach((function(t){t.setAttribute(e,o)})))},o.prototype.getAttributeElse=function(t,e,o){if(null==o&&(o=null),!t)return o;let n=t.getAttribute(e);return zzb.types.isStringNotEmpty(n)?n:o},o.prototype.getAttributes=function(t,e,o){if(!t||!e)return{};zzb.types.isNumber(o)||(o=-1);let n={};return[].forEach.call(t.attributes,(function(t){if(e.test(t.name))if(o<=0)n[t.name]=t.value;else{let e=t.name.substr(o).replace(/-(.)/g,(function(t,e){return e.toUpperCase()}));n[e]=t.value}})),n},e.v=o},154:(t,e)=>{const o=function(){};o.prototype.getPO=function(t,e){let o=t[e];return o||this.getPermObject(e+":")},o.prototype.getPermObjectFromPermkeys=function(t){const e={},o=this;if(Array.isArray(t))t.forEach((function(t){let n=o.getPermObject(t);n.key&&(e[n.key]=n)}));else if(zzb.types.isObject(t))for(const n in t){let s=t[n];s||(s="");let i=null;i=s.indexOf(":")<0?o.getPermObject(n+":"+s):o.getPermObject(s),i&&i.key&&(e[i.key]=i)}return e},o.prototype.mergePermkey=function(t,e){if(!e||!zzb.types.isStringNotEmpty(e))return t;if(!t||!zzb.types.isStringNotEmpty(t))return e;let o=null,n={},s={};if(t.indexOf(":")<=0?(n.key=t.trim(),n.perm=""):(o=t.split(":"),n.key=o[0].trim(),n.perm=o[1].trim().toUpperCase()),e.indexOf(":")<=0?(s.key=e.trim().toUpperCase(),s.perm=""):(o=e.split(":"),s.key=o[0].trim(),s.perm=o[1].trim().toUpperCase()),n.key!==s.key||n.perm===s.perm||0===s.perm.length)return t;if(0===n.key.length)return e;for(let t=0;t<s.perm.length;t++)n.perm.indexOf(s.perm[t])<0&&(n.perm+=s.perm[t]);return n.key+":"+n.perm},o.prototype.getPermObject=function(t,e,o){let n={key:null,perm:null,attr:{},toPermkey:function(){return this.key+":"+this.perm}};if((o||zzb.types.isStringNotEmpty(o))&&(t=this.mergePermkey(t,o)),!t||!zzb.types.isStringNotEmpty(t))return n.attr=this.getPermAttributes(),n;if(t.indexOf(":")<=0)return n.key=t,n.perm="",n.attr=this.getPermAttributes(),n;let s=t.split(":");if(n.key=s[0],n.perm=s[1],n.perm=n.perm.trim().toUpperCase(),n.perm.length>0&&e&&zzb.types.isStringNotEmpty(e)){e=e.trim().toUpperCase();for(let t=n.perm.length-1;t>=0;t--)e.indexOf(n.perm[t])<0&&(n.perm=n.perm.replace(n.perm[t],""))}return n.attr=this.getPermAttributes(n.toPermkey(),e),n};const n=new RegExp("^[CRUDX]*$");o.prototype.getPermAttributes=function(t){let e={canRead:!1,canCreate:!1,canUpdate:!1,canDelete:!1,canExecute:!1};return t&&zzb.types.isStringNotEmpty(t)?(t.indexOf(":")>=0&&(t=t.split(":")[1]),0===(t=t.trim().toUpperCase()).length?e:n.test(t)?(e.canRead=t.indexOf("C")>=0,e.canCreate=t.indexOf("R")>=0,e.canUpdate=t.indexOf("U")>=0,e.canDelete=t.indexOf("D")>=0,e.canExecute=t.indexOf("X")>=0,e):e):e},o.prototype.hasMatch=function(t,e){if(!t||!e)return!1;let o=t;if(zzb.types.isStringNotEmpty(t)&&(o=this.getPermObject(t)),!zzb.types.isObject(o)||!o.key||!o.perm||0===o.perm.length)return!1;let n=null;if(zzb.types.isStringNotEmpty(e))n=this.getPermObject(e);else if(Array.isArray(e)){const t=this;e.forEach((function(e){if(zzb.types.isStringNotEmpty(e)&&(e=t.getPermObject(e)),e.key===o.key)return n=e,!1}))}else{if(!zzb.types.isObject(e))return!1;if(e.key)n=e;else{if(!e[o.key])return!1;n=zzb.types.isStringNotEmpty(e[o.key])?this.getPermObject(o.key+":"+e[o.key]):e[o.key]}}if(!n||!n.key||!n.perm||0===!n.perm.length)return!1;for(let t=0;t<n.perm.length;t++)if(o.perm.indexOf(n.perm[t])>=0)return!0;return!1},e.Q=o},334:(t,e)=>{const o=function(){};function n(t){if((t=zzb.types.merge({type:"error",message:null,field:"_system",stack:null,isErr:!0,title:null},t)).isErr)switch("warn"===t.type?t.type="warning":"err"===t.type?t.type="error":"crit"===t.type?t.type="critical":"emerg"===t.type&&(t.type="emergency"),t.type){case"warning":case"notice":case"info":case"debug":t.isErr=!1;break;default:t.isErr=!0}return t}o.prototype.newROB=function(t){return zzb.types.merge({message:null,messageType:null,errs:null,recs:[],columns:[],paginate:{page:0,limit:0,count:0},hasErrors:function(){return this.errs&&Array.isArray(this.errs)&&this.errs.length>0},hasColumns:function(){return this.columns&&Array.isArray(this.columns)&&this.columns.length>0},hasRecords:function(){return this.recs&&Array.isArray(this.recs)&&this.recs.length>0},isEmpty:function(){return!this.hasRecords()||this.hasRecords()&&null===this.first()},first:function(){return this.recs&&Array.isArray(this.recs)&&this.recs.length>0?this.recs[0]:null},find:function(t,e){let o=null;return this.recs.forEach((function(n){if(n&&zzb.types.isObject(n)&&!Array.isArray(n)&&n[t]===e)return o=n,!1})),o},length:function(){return this.recs&&Array.isArray(this.recs)?this.recs.length:0}},t)},o.prototype.toObject=function(t){if(!t||!Array.isArray(t))return{_system:[t]};let e={};return t.forEach((function(t){t&&(t.field||(t.field="_system"),e[t.field]||(e[t.field]=[]),e[t.field].push(t))})),e};const s=function(t,e){if(!t)return n();if(zzb.types.isStringNotEmpty(t))return n(zzb.types.merge({message:t},e));if(!Array.isArray(t)&&zzb.types.isObject(t))return n(t);throw new Error("bad input in createError - unrecognized err datatype")};o.prototype.createError=s,o.prototype.sanitizeErrors=function(t){let e=null;return t?(Array.isArray(t)?t.length>0&&(e=[],t.forEach((function(t){e.push(s(t))}))):e=[s(t)],e):e},o.prototype.sanitizeRecords=function(t){return t?Array.isArray(t)?t:[t]:[]},o.prototype.toListErrs=function(t){return zzb.rob.toList(t)},o.prototype.toList=function(t){let e=[],o=[],n=[],s=[];return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(t){!0===t.isErr?"_system"===t.system?o.push(t):zzb.types.isStringNotEmpty(t.field)?"_system"===t.field?o.push(t):e.push(t):o.push(t):"_system"===t.system?n.push(t):zzb.types.isStringNotEmpty(t.field)?"_system"===t.field?n.push(t):s.push(t):n.push(t)})),{system:o,fields:e,systemMessages:n,fieldMessages:s,hasErrors:function(){return this.hasSystemErrors()||this.hasFieldErrors()},hasSystemErrors:function(){return this.system&&this.system.length>0},hasFieldErrors:function(){return this.fields&&this.fields.length>0},combinedErrors:function(){return this.system.concat(this.fields)},hasMessages:function(){return this.hasSystemMessages()||this.hasFieldMessages()},hasSystemMessages:function(){return this.systemMessages&&this.systemMessages.length>0},hasFieldMessages:function(){return this.fieldMessages&&this.fieldMessages.length>0},combinedMessages:function(){return this.systemMessages.concat(this.fieldMessages)},getByFieldName:function(t,e){if("_system"===e)return t?this.systemMessages:this.system;let o=[];return e?((t?this.fieldMessages:this.fields).forEach((function(n){n.field===e&&(n.isMessage=t,o.push(n))})),o):o},getErrsByName:function(t){return this.getByFieldName(!1,t)},getMessagesByName:function(t){return this.getByFieldName(!0,t)},getAnyByName:function(t){let e=this.getErrsByName(t),o=this.getMessagesByName(t);return e.concat(o)}}},o.prototype.renderListErrs=function(t){return zzb.rob.renderList(t)},o.prototype.renderList=function(t){t=zzb.types.merge({targets:[],format:"text",defaultTitle:"",template:null,htmlWrapList:'<ul class="zzb-rob-{0}">{1}</ul>'},t);let e=[];if(t.errs&&zzb.types.isArrayHasRecords(t.errs)&&(t.targets=t.errs),zzb.types.isArrayHasRecords(t.targets)){let o=t.targets.length>1;if(t.targets.forEach((function(n){let s="";zzb.types.isStringNotEmpty(t.defaultTitle)?s=t.defaultTitle:zzb.types.isStringNotEmpty(n.field)&&(s=n.field),t.template?e.push(zzb.strings.format(t.template,s,n.message)):(n.type||(n.type=n.isMessage?"message":"unknown"),o||"html"!==t.format?"html"===t.format||"html-list"===t.format?e.push(zzb.strings.format('<li class="zzb-rob-list-item-{0}">{1}</li>',n.type,n.message)):"html-list-label"===t.format?e.push(zzb.strings.format('<li class="zzb-rob-list-item-{0}"><span>{1}:</span> {2}</li>',n.type,s,n.message)):"label"===t.format?e.push(zzb.strings.format("{0}: {1}",s,n.message)):"text-punctuated"===t.format?e.push(zzb.strings.toFirstCapitalEndPeriod(n.message)+" "):e.push(zzb.strings.format(n.message)):e.push(zzb.strings.format('<div class="zzb-rob-list-item-{0}">{1}</div>',n.type,n.message)))})),(o&&"html"===t.format||"html-list"===t.format||"html-list-label"===t.format)&&t.htmlWrapList)return zzb.strings.format(t.htmlWrapList,t.format,e.join(""))}return e.join("")},e.S=o},313:(t,e)=>{const o=function(){};function n(t){let e=new Error(t);return e.name="ValueError",e}var s;o.prototype.format=(s={},function(t){let e=Array.prototype.slice.call(arguments,1),o=0,i="UNDEFINED";if(Array.isArray(e)&&e.length>0&&Array.isArray(e[0])){let t=e[0].map((function(t){return t}));e=t}return t.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,(function(t,r,l,a){if(null!=r)return r;let u=l;if(u.length>0){if("IMPLICIT"===i)throw n("cannot switch from implicit to explicit numbering");i="EXPLICIT"}else{if("EXPLICIT"===i)throw n("cannot switch from explicit to implicit numbering");i="IMPLICIT",u=String(o),o+=1}let c=u.split("."),p=(/^\d+$/.test(c[0])?c:["0"].concat(c)).reduce((function(t,e){return t.reduce((function(t,o){return null!=o&&e in Object(o)?["function"==typeof o[e]?o[e]():o[e]]:[]}),[])}),[e]).reduce((function(t,e){return e}),"");if(null==a)return p;if(Object.prototype.hasOwnProperty.call(s,a))return s[a](p);throw n('no transformer named "'+a+'"')}))}),o.prototype.formatEmpty=function(t){let e=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?t.replace(/{(\d+)}/g,(function(t,o){return void 0!==e[o]?e[o]:""})):t.replace(/{((?:(?=([^{}]+|{{[^}]*}}))\2)*)}/g,(function(t,o){return e.length>0&&e[0][o]?e[0][o]:""}))},o.prototype.appendIfMoreThan=function(t,e,o){return t&&t.length>o?t.substring(0,o)+e:t},o.prototype.joinArrToCommas=function(t,e){return t&&Array.isArray(t)&&0!==t.length?t.map(t,(function(o,n){let s="";return n<t.index-1&&(s=""),e?o[e]+s:o+s})).join(""):""},o.prototype.toPlural=function(t,e,o){return o=zzb.types.merge({forcePlural:!1,suffix:null},o),1!==e&&-1!==e||o.forcePlural?o.suffix?t+o.suffix:t+"s":t},o.prototype.capitalize=function(t){return zzb.types.isStringNotEmpty(t)?t.charAt(0).toUpperCase()+t.slice(1):""},o.prototype.toFirstCapitalEndPeriod=function(t){return zzb.types.isStringNotEmpty(t)&&(t=t.trim(),(t=zzb.strings.capitalize(t)).endsWith(t,".")||(t+=".")),t};const i=["K","M","G","T","P","E","Z","Y"],r=["KB","MB","GB","TB","PB","EB","ZB","YB"],l=["Kilobyte","Megabyte","Gigabyte","Terabyte","Petabyte","Exabyte","Zettabyte","Yottabyte"],a=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];o.prototype.sizeToHumanReadable=function(t,e,o,n){zzb.types.isStringNotEmpty(e)||(e="single");let s=" ";!0===o&&(s=""),n||(n=1);let u,c=1024,p="B";switch(e.toLowerCase()){case"full":u=l,p="Bytes";break;case"double":u=r;break;case"eic":u=a;break;default:u=i}if(Math.abs(t)<c)return t+s+p;let d=-1,z=Math.pow(n,10);do{t/=c,++d}while(Math.round(Math.abs(t)*z)/z>=c&&d<u.length-1);let y=t.toFixed(n)+"";return y=zzb.strings.trimSuffix(y,[".00",".0"]),y+s+u[d]},o.prototype.trimPrefix=function(t,e){t=zzb.types.toString(t);let o=[];zzb.types.isArray(e)?o=e:o.push(zzb.types.toString(e));for(let e=0;e<o.length;e++)if(t.startsWith(o[e]))return t.slice(o[e]);return t},o.prototype.trimSuffix=function(t,e){t=zzb.types.toString(t);let o=[];zzb.types.isArray(e)?o=e:o.push(zzb.types.toString(e));for(let e=0;e<o.length;e++)if(t.endsWith(o[e]))return t.slice(0,-1*o[e].length);return t},o.prototype.millisecondsTimeToHumanReadable=function(t){let e=t/1e3;const o=Math.floor(e/31536e3),n=Math.floor((e%=31536e3)/86400),s=Math.floor((e%=86400)/3600),i=Math.floor((e%=3600)/60),r=e%60;return n||s||r||i?(o?o+"y ":"")+(n?n+"d ":"")+(s?s+"h ":"")+(i?i+"m ":"")+Number.parseFloat(r).toFixed(2)+"s":"< 1s"},o.prototype.toBool=function(t){if(!zzb.types.isStringNotEmpty(t))return t;switch(t.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"":case null:case void 0:return!1;default:return Boolean(t)}},o.prototype.parseIntOrZero=function(t,e){return zzb.strings.parseTypeElse(t,"int",0,!!e)},o.prototype.parseFloatOrZero=function(t,e){return zzb.strings.parseTypeElse(t,"float",0,!!e)},o.prototype.parseBoolOrFalse=function(t,e){return zzb.strings.parseTypeElse(t,"bool",!1,!!e)},o.prototype.parseTypeElse=function(t,e,o,n){let s=n||zzb.types.isArray(t);if(null==t)return s?[]:o;zzb.types.isArray(t)||(t=[t]);for(let n=0;n<t.length;n++)if(null==t[n]||null===t[n])t[n]=o;else{let s=!1;switch(e){case"int":parsed=parseInt(t[n]),s=!0;break;case"float":parsed=parseFloat(t[n]),s=!0;break;case"bool":t[n]=zzb.strings.toBool(t[n]);break;case"date":case"date-iso":t[n]=zzb.types.isStringNotEmpty(t[n])?t[n]:o;break;default:zzb.types.isString(t[n])||zzb.types.isArray(t[n])||zzb.types.isObject(t[n])||(t[n]+="")}s&&(t[n]=isNaN(parsed)?o:parsed)}return s?t:t[0]},o.prototype.mergeElseEmpty=function(t,e,o){let n=e;return zzb.types.isStringNotEmpty(n)||(n=o,zzb.types.isStringNotEmpty(n))?zzb.strings.format(t,n):""},e.j=o},932:(t,e)=>{function o(){}class n{constructor(t){this.options=n.getZazzyDefaults(t),!0===this.options.autostart&&this.options.new()}static getZazzyDefaults(t){const e={interval:6e4,autostart:!1,id:null,targetClick:null,datacache:!1,action:function(){console.log("ZazzyInterval no-op")}};if((t=zzb.types.isObject(t)?zzb.types.merge(e,t):e).autostart=!0===t.autostart,zzb.types.isStringNotEmpty(t.id)||(t.id=zzb.uuid.newV4()),!zzb.types.isFunction(t.action))throw new Error("required action");return t._cache=null,t._itoken=null,zzb.types.isFunction(t.new)||(t.new=function(){t._itoken=setInterval(t.refresh,this.interval),t._isPaused=!1}),zzb.types.isFunction(t.clear)||(t.clear=function(e){null!=t._itoken&&(clearInterval(t._itoken),t._itoken=null,!0===e&&(t._isPaused=!0))}),zzb.types.isFunction(t.unpause)||(t.unpause=function(){!0===t._isPaused&&(t._itoken=setInterval(t.refresh,this.interval),t._isPaused=!1)}),zzb.types.isFunction(t.refresh)||(t.refresh=function(){null!=t._itoken&&(t._isPaused=!1,t.action&&t.action())}),t}new(){zzb.types.isFunction(this.options.new)&&this.options.new()}clear(t){zzb.types.isFunction(this.options.clear)&&this.options.clear(!0===t)}unpause(){zzb.types.isFunction(this.options.unpause)&&this.options.unpause()}refresh(){zzb.types.isFunction(this.options.refresh)&&this.options.refresh()}setCache(t){this.options._cache=this.options.datacache?t:null}getCache(){return this.options.datacache?this.options._cache:null}hasCache(){return this.options.datacache&&this.options._cache}}o.prototype.ZazzyInterval=n,o.prototype.getInterval=function(t){return this.myIntervals&&zzb.types.isStringNotEmpty(t)&&this.myIntervals[t]?this.myIntervals[t]:null},o.prototype.clearAll=function(t){if(this.myIntervals&&zzb.types.isObject(this.myIntervals))for(const e in this.myIntervals)this.myIntervals[e].clear(t)},o.prototype.unpauseAll=function(){if(this.myIntervals&&zzb.types.isObject(this.myIntervals))for(const t in this.myIntervals)this.myIntervals[t].unpause()},o.prototype.newInterval=function(t){if(this.myIntervals||(this.myIntervals={}),t&&t.id&&zzb.types.isStringNotEmpty(t.id)&&this.myIntervals[t.id])return this.myIntervals[t.id];const e=new n(t);if(e&&e.options&&zzb.types.isStringNotEmpty(e.options.id))return this.myIntervals[e.options.id]=e,e;throw new Error("Failed to create ZazzyInterval")},o.prototype.newUIInterval=function(t){t&&"true"!==t.getAttribute("zi-inited")&&(zzb.types.isStringNotEmpty(t.getAttribute("id"))||t.setAttribute("id",zzb.uuid.newV4()),zzb.time.newInterval({interval:zzb.dom.getAttributeElse(t,"zi-interval",null),id:zzb.dom.getAttributeElse(t,"zi-id",null),autostart:"true"===t.getAttribute("zi-autostart"),targetClick:t.getAttribute("id"),datacache:"true"===t.getAttribute("zi-datacache"),action:function(){document.querySelectorAll(".modal.show").length>0||(document.getElementById(this.targetClick).setAttribute("zi-noclick","true"),document.getElementById(this.targetClick).click())}}),t.setAttribute("zi-inited","true"))},e.X=o},449:(t,e)=>{function o(){}o.prototype.merge=function(t,e){return n(t,e)};const n=function(...arguments){let t={};const e=e=>{for(let o in e)e.hasOwnProperty(o)&&("[object Object]"===Object.prototype.toString.call(e[o])?t[o]=n(t[o],e[o]):t[o]=e[o])};for(let t=0;t<arguments.length;t++)e(arguments[t]);return t};o.prototype.truncate=function(t,e){return t.toString().substring(0,t.toString().indexOf("."))+t.toString().substr(t.toString().indexOf("."),e+1)},o.prototype.escapeHtml=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},o.prototype.baseToString=function(t){if("string"==typeof t)return t;if(zzb.types.isNumber(t)){let e=trimSuffix+"";return"0"==e&&1/t==-INFINITY?"-0":e}return""},o.prototype.toString=function(t){return null==t?"":zzb.types.baseToString(t)},o.prototype.isArray=function(t){return t&&void 0!==t&&"[object Array]"===Object.prototype.toString.call(t)},o.prototype.isArrayHasRecords=function(t){return zzb.types.isArray(t)&&t.length>0},o.prototype.isObject=function(t){return t&&"object"==typeof t},o.prototype.isNumber=function(t){return!isNaN(t-0)&&null!==t&&""!==t&&!1!==t},o.prototype.isNonEmptyString=function(t){return zzb.types.isStringNotEmpty(t)},o.prototype.isStringNotEmpty=function(t){return t&&"string"==typeof t&&t.trim().length>0},o.prototype.isEmptyString=function(t){return zzb.types.isStringEmpty(t)},o.prototype.isStringEmpty=function(t){return t&&"string"==typeof t&&0===t.trim().length},o.prototype.isString=function(t){return t&&"string"==typeof t},o.prototype.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},o.prototype.isBoolean=function(t){return"boolean"==typeof t},o.prototype.compare=function(t,e,o){return t===e?0:o?t>e?-1:1:t>e?1:-1},e.V=o},781:(t,e)=>{const o=function(){};o.prototype.newV4=function(){function t(t){return 0|t*Math.random()}function e(e){let o="";for(let n=0;n<e;++n)o+=t(16).toString(16);return o}return e(8)+"-"+e(4)+"-4"+e(3)+"-"+(3&t(16)|8).toString(16)+e(3)+"-"+e(12)},o.prototype.isV4=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},o.prototype.isValid=function(t){return/^([a-f\d]{8}(-[a-f\d]{4}){3}-[a-f\d]{12}?)$/i.test(t)},e.V=o},602:(t,e)=>{class o{constructor(t){this.options=zzb.types.merge({id:null,handler:null,namespace:null},t)}getId(){return this.options.id}getHandler(){return this.options.handler}getNameSpace(){return this.options.namespace}run(t){return!!this.options.handler&&this.options.handler(t)}}const n=function(){this.handlers=[]};function s(t,e){if(!t)return null;if(!zzb.types.isStringNotEmpty(e))return null;let o=[],n=e.split(",");for(let e=0;e<n.length;e++){let s=n[e];switch(s){case"self":case"self:":o.push({label:"self",$elem:t});break;case"none":case"none:":return"none";default:let e=[s.substring(0,s.indexOf(":")),s.substring(s.indexOf(":")+1)];if(2===e.length){if(!zzb.types.isStringNotEmpty(e[1]))return null;let n=null;e[0].indexOf(".")>1&&(n=e[0].slice(0,e[0].indexOf(".")),e[0]=e[0].slice(e[0].indexOf(".")+1));let s="inner",i=e[0];e[0].indexOf("@")>1&&(i=e[0].slice(0,e[0].indexOf("@")),s=e[0].slice(e[0].indexOf("@")+1));let r=null;"selector"===i||"s"===i?r=document.querySelector(e[1]):"closest"===i||"c"===i?r=t.closest(e[1]):"child"!==i&&"h"!==i||(r=t.querySelector(e[1])),"inner"!==s&&"outer"!==s&&(console.log('unknown placement param inside inject; defaulting to "inner"',e),s="inner"),r&&o.push({label:n,$elem:r,placement:s})}}}return o}function i(t,e,o,n){let r=!1;if(e||(r=!0,e={zaction:{},zdata:{},zdlg:{tryDialog:!1},zurl:null,$data:null,arrInjects:null,zref:{},zinterval:{}}),!t)return null;if(r&&(e.zinterval.id=t.getAttribute("zi-id"),zzb.types.isStringNotEmpty(e.zinterval.id)&&(e.zinterval.noClick="true"===t.getAttribute("zi-noclick"),t.setAttribute("zi-noclick","false"))),e.zaction=zzb.types.merge(zzb.dom.getAttributes(t,/^za-/,3),e.zaction),e.zdata=zzb.types.merge(zzb.dom.getAttributes(t,/^zd-/,3),e.zdata),e.forceIgnoreZUrl||((r||o)&&(e.forceIgnoreZUrl="true"===e.zaction.ignoreZurl),e.forceIgnoreZUrl||e.zurl||(e.zurl=l(t,!0))),!e.forceIgnoreZData&&!e.$data&&zzb.types.isStringNotEmpty(e.zaction.data)){let o=s(t,e.zaction.data);o&&o[0].$elem&&(e.$data=o[0].$elem,e.forceIgnoreZData="none"===e.$data,e.forceIgnoreZData?(e.$data=null,e.formData=null):"form"===e.$data.nodeName.toLowerCase()&&(e.isForm=!0,e.formData=new FormData(e.$data)))}if((r||o)&&(e.zref=zzb.types.merge(zzb.dom.getAttributes(t,/^zref-/,5),e.zref),e.zdlg=zzb.types.merge(zzb.dom.getAttributes(t,/^zdlg-/,5),e.zdlg),zzb.types.isStringNotEmpty(e.zaction.dlg))){let o=s(t,e.zaction.dlg);o&&o[0].$elem&&(e.zdlg=zzb.types.merge(zzb.dom.getAttributes(o[0].$elem,/^zdlg-/,5),e.zdlg),e.zaction=zzb.types.merge(zzb.dom.getAttributes(o[0].$elem,/^za-/,3),e.zaction),e.zurl||(e.zurl=l(o[0].$elem,!0)))}e.forceIgnoreZInject||e.arrInjects||zzb.types.isStringNotEmpty(e.zaction.inject)&&(e.arrInjects=s(t,e.zaction.inject),e.arrInjects&&(e.forceIgnoreZInject="none"===e.arrInjects,e.forceIgnoreZInject&&(e.arrInjects=null)));let a=r&&!t.classList.contains("zaction");if(r&&"za-post-action"===n&&(a=!1),a)e=i(t.closest(".zaction"),e,a,n);else{let o=zzb.dom.getAttributeElse(t,"zclosest",null);if(o){let n=t.closest(o);n&&(e=i(n,e))}}return e}n.prototype.ZActionHandler=o,n.prototype.registerHandler=function(t){zzb.zaction.setHandler(new o(t))},n.prototype.getHandlers=function(){return this.handlers},n.prototype.getHandler=function(t){if(t)return this.handlers.forEach((function(e){if(e.getId()===t)return e})),null},n.prototype.setHandler=function(t){if(t){for(let e=0;e<this.handlers.length;e++)if(this.handlers[e].getId()===t.id)return void(this.handlers[e]=t);this.handlers.push(t)}},n.prototype.newZClosest=function(t,e,o,n){return i(t,e,o,n)},n.prototype.newZAction=function(t){if(!t||!t.target)return{isValid:!1};let e={isValid:!0,ev:t,zcall:t.target.getAttribute("zcall"),_options:null,_runAJAX:null,isMouseDown:function(){return"mousedown"===this.zcall},forceStopPropDef:function(e){return!(!e&&"true"!==t.target.getAttribute("force-stop-prop-def"))&&(this.ev.preventDefault(),this.ev.stopPropagation(),!0)},getZEvent:function(){return this._options||this.getOptions(),this._options.zaction.event},hasZEvent:function(){return zzb.types.isStringNotEmpty(this.getZEvent())},isZUrl:function(){return this._options||this.getOptions(),zzb.types.isStringNotEmpty(this._options.zurl)},canRunZVal:function(){return this.getOptions(),this._options&&this._options.$data&&"true"===this._options.zaction.doZval},runAJAX:function(t,e){this.getOptions(),t&&this._runAJAX?this._runAJAX(t,e):e&&e(null,new Error("_runAJAX not defined"))},runInjects:function(t){this.getOptions().arrInjects&&t&&t.rob&&t.rob.hasRecords()&&t.rob.first().dInjects&&z(this.getOptions().arrInjects,t.rob.first().dInjects)},buildAJAXOptions:function(){this.getOptions();let t={url:this._options.zurl};const e=zzb.time.getInterval(this._options.zinterval.id);e&&!this._options.zinterval.noClick&&e.setCache(null);const o=e&&e.hasCache();let n=!1;return"postJSON"===this._options.zaction.method?(t.body={},this._options.forceIgnoreZData||this._options.isForm&&(o?t.body=e.getCache():(t.body=zzb.types.merge(function(t,e){let o={};for(let[e,n]of t)void 0!==o[e]?(Array.isArray(o[e])||(o[e]=[o[e]]),o[e].push(n)):o[e]=n;if(e){const t=Object.keys(o);for(let n=0;n<t.length;n++){let s=e.querySelector('[name="'+t[n]+'"]');if(s){let e=s.getAttribute("zf-type"),i=zzb.dom.getAttributeElse(s,"zf-cval",null);if(i&&("date-iso"===e&&o[t[n]]&&""===o[t[n]].trim()?o[t[n]]=null:o[t[n]]=i),zzb.types.isStringNotEmpty(e)){let s=e.startsWith("[]"),i=e.replaceAll("[]",""),r="int"===i||"float"===i?0:"";if("string"===i&&!s)continue;"bool"===i?r=!1:"date-iso"===i&&(r=null),o[t[n]]=zzb.strings.parseTypeElse(o[t[n]],i,r,s)}}}}return o}(this._options.formData,this._options.$data),t.body),t.body=zzb.types.merge(this._options.zdata,t.body),t.body=function(t){function e(t,o,n,s){return n===o.length-1?t[o[n]]=s:(t[o[n]]||(t[o[n]]={}),t[o[n]]=e(t[o[n]],o,n+1,s)),t}const o=Object.keys(t);let n={};for(let s=0;s<o.length;s++)n=e(n,o[s].split("."),0,t[o[s]]);return n}(t.body),n=!0)),t.body.zaction=this._options.zaction):"postFORM"===this._options.zaction.method&&(o?t.body=e.getCache():(t.body=this._options.formData,n=!0)),n&&e&&e.setCache(t.body),zzb.types.isStringNotEmpty(this._options.zaction.expectType)&&(t.expectType=this._options.zaction.expectType),t},getOptions:function(){if(this._options)return this._options;switch(this._options=i(this.ev.target,null,null,this.ev.zaExtraHandler),this._options.forceIgnoreZData||this._options.$data&&(this._options.zaction.zid||(this._options.zaction.zid=zzb.dom.getAttributeElse(this._options.$data,"za-zid",null)),this._options.zaction.zidParent||(this._options.zaction.zidParent=zzb.dom.getAttributeElse(this._options.$data,"za-zid-parent",null)),this._options.zurl||(this._options.zurl=l(this._options.$data,!0))),zzb.types.isStringNotEmpty(this._options.zaction.loopType)?this._options.forceIgnoreZInject||this._options.arrInjects&&("true"===this._options.zaction.loopInjectSkipInject?(console.log(new Error('skipping za-loop-type "'+this._options.zaction.loopType+'": no arrInjects identified')),this._options.zaction.loopType=null):this._options.hasLoopType=!0):this._options.loopType=null,zzb.types.isStringNotEmpty(this._options.zaction.method)||(this._options.zaction.method="postJSON"),this._options.zaction.method){case"getJSON":this._runAJAX=zzb.ajax.getJSON;break;case"postFORM":this._runAJAX=zzb.ajax.postFORM;break;default:this._runAJAX=zzb.ajax.postJSON}if(this._options.zdlg&&(this._options.zdlg.tryDialog=Object.keys(this._options.zdlg).length>0),!this._options.forceIgnoreZUrl){let t=this._options.zurl;if(zzb.types.isStringNotEmpty(t)){for(let e=0;e<r.length;e++)if(t.indexOf(r[e])>-1){let o=r[e].replace(":","");if(!zzb.types.isStringNotEmpty(this._options.zaction[o]))throw new Error("reserve placeholder '"+r[e]+"' not found in zurl '"+t+"'");t=t.replace(r[e],this._options.zaction[o])}this._options.zurl=t}else console.log("cannot determine zurl"),this._options.zurl=null}return this._options.zaction.pageOn=zzb.strings.parseIntOrZero(this._options.zaction.pageOn),this._options.zaction.pageLimit=zzb.strings.parseIntOrZero(this._options.zaction.pageLimit),this._options}};return e.hasZEvent()?e:{isValid:!1}};let r=[":event",":mod",":zid",":zidParent",":blobName"];function l(t,e){if(!t)return e?null:"";let o=t.getAttribute("zurl");return zzb.types.isStringNotEmpty(o)||(o=t.getAttribute("href"),zzb.types.isStringNotEmpty(o)||(o=t.getAttribute("action"),!zzb.types.isStringNotEmpty(o)&&t.nodeName&&"img"!==t.nodeName.toLowerCase()&&(o=t.getAttribute("src")))),o&&"#"!==o?o:e?null:""}function a(t,e,o){if(t&&t.canRunZVal())try{let n=e&&e.listErrs&&(e.hasErrors()||e.hasMessages);t.getOptions().$data.querySelectorAll(".zval").forEach((function(t){let s=t.classList.contains("zval-in-place");if(s?(t.classList.remove("is-valid"),t.classList.remove("is-invalid")):t.classList.add("d-none"),!o&&e){let o=zzb.dom.getAttributes(t,/^zval-/,5);zzb.types.isStringNotEmpty(o.name)||s&&(o.name=zzb.dom.getAttributeElse(t,"name"));let i=[];if(n&&zzb.types.isStringNotEmpty(o.name)&&(i=e.listErrs.getAnyByName(o.name)),0===i.length)s&&t.classList.add("is-valid");else if(s)t.classList.add("is-invalid");else{let e=zzb.rob.renderList({targets:i,format:"html"});zzb.types.isStringNotEmpty(e)&&(t.innerHTML=e,t.classList.remove("d-none"))}}return!0}))}catch(t){console.log("failed runZValidate",t)}}function u(t){if(!zzb.types.isStringNotEmpty(t))return null;let e=t.split("|");if(0===e.length)return null;let o={};return e.length>0&&(o.label=e[0]),e.length>1&&(o.type=e[1]),e.length>2&&(o.ztrigger=e[2]),o}function c(t,e,o){function n(e,o,n){o||(zzb.types.isStringNotEmpty(t.getOptions().zdlg.postSave)?g(t.getOptions().zdlg.postSave):t.getOptions().hasLoopType&&z(t.getOptions().arrInjects,e.rob.first().dInjects),n&&n.close())}o=zzb.types.merge({html:null,js:{title:null,altTitle:null,body:null,type:null,buttons:null,noHeaderCloseButton:!1,focus:!0,keyboard:!0}},o||{});let s={title:"",body:"",onShow:function(e){let s=e.target.querySelector(".modal-body");if(!s)return;if("true"===zzb.dom.getAttributeElse(s,"_zdinit",""))return;let i=e.target.querySelectorAll(".modal-footer [ztrigger]"),r=[];if(i&&i.forEach((function(t){r.push(t.getAttribute("ztrigger"))})),s){zzb.zaction.loadZInputs(s),zzb.zui&&zzb.zui.onElemInit(s),zzb.zaction.addEventListeners(".zaction",o.js.actionHandler,s);let e=s.querySelectorAll("[ztrigger]");e&&e.forEach((function(e){r.includes(e.getAttribute("ztrigger"))?(t.getOptions().hasLoopType&&(zzb.types.isStringNotEmpty(e.getAttribute("za-loop-type"))||(e.setAttribute("za-loop-type",t.getOptions().zaction.loopType),e.setAttribute("za-loop-inject-skip-inject","false"))),e.addEventListener("ztrigger-dialog-button",(function(t){zzb.zaction.actionHandler(t,t.detail.altHandler,(function(e,o){n(e,o,t.detail.dialog)}))}))):console.log('no match of ztrigger handler "',e.getAttribute("ztrigger")+'"')}))}zzb.dom.setAttribute(s,"_zdinit","true"),s.classList.contains("d-none")&&s.classList.remove("d-none")},onShown:null,onHide:null,onHidden:null,buttons:[zzb.dialogs.ZazzyDialog.getButtonDefaults({type:zzb.dialogs.ZazzyDialog.TYPE_SECONDARY,label:"Cancel",ztrigger:"cancel",action:function(t,e){t.close()}}),zzb.dialogs.ZazzyDialog.getButtonDefaults({type:zzb.dialogs.ZazzyDialog.TYPE_PRIMARY,label:"Ok",ztrigger:"ok",action:function(e,o){if("zurl-confirm"===t.getZEvent())t.runAJAX(t.buildAJAXOptions(),(function(t,o){n(t,o,e)}));else{let t=function(t,e){if(!t)return null;let o=zzb.dom.getAttributeElse(t,"ztrigger");if(!o)return null;let n=t.closest(".modal-content").querySelector('.modal-body [ztrigger="'+o+'"]');if(!n)throw new Error('failed to locate modal ztrigger="'+o+'"');let s={altHandler:null,$trigger:n};return e&&zzb.types.isObject(e.ztriggers)&&(s.altHandler=e.ztriggers[o]),s}(this);t||t.$trigger?t.$trigger.dispatchEvent(new CustomEvent("ztrigger-dialog-button",{detail:{dialog:e,evOriginal:o,altHandler:t.altHandler}})):e.close()}}})]};s.title=p(t,o,"title","altTitle",!1),s.body=p(t,o,"body",null,!0),s.type=p(t,o,"type","altType",!1),s.classBackdrop=p(t,o,"classBackdrop","altClassBackdrop",!1),s.classDialog=p(t,o,"class","altClass",!1),s.dataBackdrop="",s.classWidthMod=p(t,o,"classWidthMod","altClassWidthMod",!1),s.classFullscreenMod=p(t,o,"classFullscreenMod","altClassFullscreenMod",!1),s.isScrollable="true"===p(t,o,"isScrollable","altIsScrollable",!1),s.isFullscreen="true"===p(t,o,"isFullscreen","altIsFullscreen",!1),s.isNoFooter="true"===p(t,o,"isNoFooter","altIsNoFooter",!1),s.noHeaderCloseButton="true"===t.getOptions().zdlg.noHeaderCloseButton||!0===o.js.noHeaderCloseButton,s.noFocus="true"===t.getOptions().zdlg.noFocus||!0===o.js.noFocus,s.noKeyboard="true"===t.getOptions().zdlg.noKeyboard||!0===o.js.noKeyboard;let i=null;if(i=p(t,o,"theme","altTheme",!1),i=zzb.types.isStringNotEmpty(i)?function(t){if(!zzb.types.isStringNotEmpty(t))return null;let e=t.split("|"),o={type:zzb.dialogs.ZazzyDialog.TYPE_NONE};e.length>0&&zzb.types.isStringNotEmpty(e[0])&&(o.button1={label:e[0],ztrigger:e[0].toLowerCase(),type:zzb.dialogs.ZazzyDialog.TYPE_SECONDARY}),e.length>1&&zzb.types.isStringNotEmpty(e[1])&&(o.button2={label:e[1],ztrigger:e[1].toLowerCase(),type:zzb.dialogs.ZazzyDialog.TYPE_PRIMARY}),e.length>2&&zzb.types.isStringNotEmpty(e[2])&&("default"===e[2]||(o.type=e[2],o.button2&&(o.button2.type=o.type)));return o}(i):null,zzb.types.isArrayHasRecords(o.js.buttons))s.buttons=o.js.buttons,i&&i.type&&!zzb.types.isStringNotEmpty(s.type)&&(s.type=i.type);else{if(i){function r(t,e){s.buttons[e].label=t.label,s.buttons[e].ztrigger=t.ztrigger.toLowerCase(),s.buttons[e].type=t.type}i.type&&!zzb.types.isStringNotEmpty(s.type)&&(s.type=i.type),i.button2?r(i.button2,1):s.buttons.splice(1),i.button1?r(i.button1,0):s.buttons.splice(0)}let l=t.getOptions().zdlg.buttons;if(zzb.types.isStringNotEmpty(l))if(l=l.split(";"),l.length!==s.buttons.length)console.log("zdlg-buttons definition does not match default options/theme");else for(let a=0;a<s.buttons.length;a++){let c=u(l[a]);c&&(zzb.types.isStringNotEmpty(c.label)&&(s.buttons[a].label=c.label),zzb.types.isStringNotEmpty(c.type)&&(s.buttons[a].type=c.type),zzb.types.isStringNotEmpty(c.ztrigger)&&(s.buttons[a].ztrigger=c.ztrigger))}}zzb.dialogs.showMessage(s)}function p(t,e,o,n,s){let i="",r=zzb.types.isObject(t.getOptions().zdlg);if(zzb.types.isStringNotEmpty(o)){if(r&&(i=t.getOptions().zdlg[o],zzb.types.isStringNotEmpty(i)))return i;if(e){if(s&&zzb.types.isStringNotEmpty(e.html))return e.html;if(e.js&&zzb.types.isStringNotEmpty(e.js[o]))return e.js[o]}}return r&&zzb.types.isStringNotEmpty(n)&&(i=t.getOptions().zdlg[n],zzb.types.isStringNotEmpty(i))?i:""}function d(t,e){t.forceStopPropDef(!0),t.runAJAX(t.buildAJAXOptions(),(function(o,n){if(n)return void(e&&e(null,n));let s=o.rob.first();s.js=function(t,e){let o=null;return zzb.types.isStringNotEmpty(t)&&(o=Function('"use strict";return ('+t+")")(e)),zzb.types.merge({actionHandler:null,onAccept:null,buttons:null},o)}(s.js,t),c(t,0,s)}))}function z(t,e){if(t&&e&&zzb.types.isArray(e)){function o(t,e,o){"outer"===o?t.outerHTML=e.html:t.innerHTML=e.html,zzb.zui&&zzb.zui.onElemInit(t),zzb.zaction.addEventListeners(".zaction",null,t),zzb.zaction.runZLoadActions(t)}if(e.length!==t.length&&console.log("inject partial success; arrInjects (len="+t.length+") is less than the number of dInjects (len="+e.length+") returned"),1===e.length)o(t[0].$elem,e[0]);else for(let n=0;n<e.length;n++)if(n<t.length)for(let s=0;s<t.length;s++)if(t[s].label===e[n].label){o(t[s].$elem,e[n],t[s].placement);break}}}function y(t,e,o){t.forceStopPropDef(!0),t.runAJAX(t.buildAJAXOptions(),(function(n,s){if(s)e&&e(null,s);else{if(n&&n.rob){if(a(t,n.rob),n.rob.hasErrors())return void(e&&e(null,new Error("validate has errors")));!0===o&&function(t,e){if(t&&e&&e.hasRecords()&&t.getOptions().$data&&t.getOptions().isForm&&t.getOptions().$data.elements.length>0)try{for(const[o,n]of Object.entries(e.first())){const e=t.getOptions().$data.elements.namedItem(o);void 0!==e&&zzb.types.isObject(e)&&(e.value=n)}}catch(t){console.log("failed runZFormUpdate",t)}}(t,n.rob),t.getOptions().arrInjects&&n.rob.hasRecords()&&n.rob.first().dInjects&&z(t.getOptions().arrInjects,n.rob.first().dInjects);let s=t.getOptions().zref;s&&zzb.types.isStringNotEmpty(s.zinputPtr)&&zzb.zaction.loadZInputs(document.getElementById(s.zinputPtr));let i=t.getOptions().zaction;i&&zzb.types.isStringNotEmpty(i.postSave)&&g(i.postSave)}e&&e(n,null)}}))}n.prototype.addEventListeners=function(t,e,o){if(!zzb.types.isStringNotEmpty(t))return;o||(o=document),o.querySelectorAll(t).forEach((function(t){if("true"===t.getAttribute("za1x"))return;let o=t.getAttribute("zcall");zzb.types.isStringNotEmpty(o)||(o="click"),t.setAttribute("za1x","true"),t.addEventListener(o,(function(t){zzb.zaction.actionHandler(t,e,null)}))}))},n.prototype.actionHandler=function(t,e,o){let n=zzb.zaction.newZAction(t);if(!0!==n.isValid)throw new Error("failed to create new zaction from event");n.forceStopPropDef();let s=!1;if(e&&(s=e(n,o),!0===s))return;let i=zzb.zaction.getHandlers();for(let t=0;t<i.length;t++)if(s=i[t].run(n,o),!0===s)return;n.isZUrl()&&zzb.zaction.handleZUrl(n,o)},n.prototype.runZValidate=function(t,e,o){a(t,e,o)};const g=function(t){if(t&&zzb.types.isStringNotEmpty(t)){let e=t.split(":");if(2===e.length){let t=document.querySelector(e[1]);if(t){"true"!==t.getAttribute("za1x2")&&(t.setAttribute("za1x2","true"),t.addEventListener("za-post-action",(function(t){zzb.zaction.actionHandler(t,null,null)})));let e=new CustomEvent("za-post-action");e.zaExtraHandler="za-post-action",t.dispatchEvent(e)}}}};n.prototype.handleZUrl=function(t,e){if(!zzb.types.isStringNotEmpty(t.getOptions().zurl))throw new Error("zurl not defined: tried zurl, href, action and src");let o=!1;switch(t.getOptions().zaction.event){case"zurl-dialog":d(t,e),o=!0;break;case"zurl-confirm":!function(t,e){t.forceStopPropDef(!0),c(t,0,null)}(t),o=!0;break;case"zurl-replace":!function(t,e){t.forceStopPropDef(!0),t.runAJAX(t.buildAJAXOptions(),(function(o,n){n?e&&e(null,n):(t.getOptions().arrInjects&&z(t.getOptions().arrInjects,o.rob.first().dInjects),e&&e(o,null))}))}(t,e),o=!0;break;case"zurl-search":!function(t,e){t.forceStopPropDef(!0);const o=zzb.time.getInterval(t.getOptions().zinterval.id);o&&o.clear(),t.runAJAX(t.buildAJAXOptions(),(function(n,s){s?e&&e(null,s):(n&&n.rob&&(n.rob.hasRecords()||e&&e(n,null),t.runInjects(n)),o&&o.new(),e&&e(n,!0))}))}(t,e),o=!0;break;case"zurl-action":y(t,e),o=!0;break;case"zurl-field-update":y(t,e,!0),o=!0;break;case"zurl-blob-download":!function(t,e){t.forceStopPropDef(!0),zzb.types.isStringNotEmpty(t.getOptions().zaction.expectType)||(t.getOptions().zaction.expectType="blob"),t.runAJAX(t.buildAJAXOptions(),(function(o,n){if(n)e&&e(null,n);else{if(o.data){zzb.types.isStringNotEmpty(t.getOptions().zaction.blobType)||(t.getOptions().zaction.blobType="application/octet-stream"),zzb.types.isStringNotEmpty(t.getOptions().zaction.blobName)||(t.getOptions().zaction.blobName="my-file");const e=URL.createObjectURL(o.data),n=document.createElement("a");n.classList.add("d-none"),n.href=e,n.download=t.getOptions().zaction.blobName,document.body.appendChild(n),n.click()}e&&e(o,null)}}))}(t,e),o=!0;break;case"zurl-nav-tab":if(t.forceStopPropDef(!0),t.isZUrl()){o=!0;let e=t.getOptions().zurl;e.startsWith("http://")||e.startsWith("https://")||(e.startsWith("/")||(e="/"+e),e=window.location.origin+e),window.open(e,"_blank")}e&&e(null,null);break;default:t.forceStopPropDef(!0),t.isZUrl()&&(o=!0,window.location.href=t.getOptions().zurl),e&&e(null,null)}return o},n.prototype.runZLoadActions=function(t){t||(t=document);let e=t.querySelectorAll(".zload-action");if(e&&e.forEach((function(t){t.addEventListener("zload-action",(function(t){zzb.zaction.actionHandler(t,null,null)})),t.dispatchEvent(new CustomEvent("zload-action"))})),zzb.zaction.loadZInputs(t),t.tagName&&zzb.types.isStringNotEmpty(t.tagName)){const e=t.querySelector(".zui-autofocus");e&&zzb.types.isObject(e)&&e.focus()}t.querySelectorAll(".zzb-zui-navtab-buttons").forEach((function(t){t.querySelectorAll("button").forEach((function(t){const e=new bootstrap.Tab(t);t.addEventListener("click",(function(o){if(o.preventDefault(),"true"===t.getAttribute("za1x"))return void e.show();let n=t.getAttribute("za-event");zzb.types.isStringNotEmpty(n)?(t.setAttribute("za1x","true"),zzb.zaction.actionHandler(o,null,(function(t,o){o||e.show()}))):e.show()}))}))}))};const b={};n.prototype.loadZInputs=function(t){t||(t=document);const e=function(t,e,o){o?e?t.disabled=!0:t.classList.add("d-none"):e?t.disabled=!1:t.classList.remove("d-none")},o=function(t,o,n){let s=!0;for(const[e,o]of Object.entries(b[t].changes))!1===o&&(s=!1);e(o,n,s)},n=function(t){let n=t.getAttribute("id");zzb.types.isStringNotEmpty(n)||(n=zzb.uuid.newV4().replace(/-/g,""),t.setAttribute("id",n));let s=document.getElementById(t.getAttribute("ztoggler"));if(zzb.types.isObject(s)){s.setAttribute("zref-zinput-ptr",n);let i="disabled"===s.getAttribute("ztoggler-display");e(s,i,!0),b[n]={originals:{},changes:{}},t.querySelectorAll(".zinput-field")&&t.querySelectorAll(".zinput-field").forEach((function(t){const e=t.getAttribute("name");if(zzb.types.isStringNotEmpty(e)){const r=function(t){let e=t.getAttribute("type");return e?e.toLowerCase():t.tagName.toLowerCase()}(t);b[n].originals[e]="checkbox"===r||"radio"===r?t.checked+"":t.value;let l=t.getAttribute("zinput-event");zzb.types.isStringEmpty(l)&&(l="input");"change"===t.getAttribute("zinput-event")?t.addEventListener("change",(function(t){"checkbox"===r||"radio"===r?b[n].changes[e]=b[n].originals[e]===this.checked+"":"textarea"===r?b[n].changes[e]=b[n].originals[e]===this.value:b[n].changes[t.target.name]=b[n].originals[t.target.name]===t.target.value,o(n,s,i)})):t.addEventListener("input",(function(t){b[n].changes[t.target.name]=b[n].originals[t.target.name]===t.target.value,o(n,s,i)}))}}))}};if(t.tagName&&t.classList&&t.classList.contains("zinput"))n(t);else{let e=t.querySelectorAll(".zinput");e&&e.forEach((function(t){n(t)}))}},document.addEventListener("DOMContentLoaded",(function(){let t=document.querySelector("body");if(t){if("true"===t.getAttribute("no-autoload-zactions"))return;zzb.zaction.addEventListeners(".zaction")}zzb.zaction.runZLoadActions()}),!1),e.n=n},844:(t,e)=>{const o=function(){this.zsplitters={},this.elemIniters=[],this.defaultRWidth=576,this.handlers=[]};function n(t,e,o){let n=zzb.dom.getAttributes(t,/^zsplitter-/,10);n.id=t.getAttribute("id");let s=zzb.types.isStringNotEmpty(n.id),i=!0;if(s){let t=zzb.zui.getZUICache();i=!t.zsplitter[n.id],i?(t.zsplitter[n.id]=n,zzb.zui.setZUICache(t)):n=t.zsplitter[n.id]}"open"!==n.show&&"close"!==n.show&&(n.show=null),zzb.types.isStringNotEmpty(n.rsize)&&(n.rsize=Number(n.rsize)),(!zzb.types.isNumber(n.rsize)||n.rsize<0)&&(n.rsize=zzb.zui.getDefaultRWdith());const r=function(t){s&&(n.show=t,function(t){if(t&&zzb.types.isStringNotEmpty(t.id))try{let e=zzb.zui.getZUICache();e.zsplitter[t.id]=t,zzb.zui.setZUICache(e)}catch(t){console.log(t)}}(n))};let l=zzb.zui.isViewportGTRSize(n.rsize);s&&i&&!l?"open"===n.show&&r("close"):s||l||(n.show="close"),o?Array.isArray(o)||(o=o.split(",")):o=[];for(let t=0;t<o.length;t++)(a=o[t].slice(-1))>="0"&&a<="9"&&""!==o[t]&&(o[t]+="px");var a;s||(t.id="zsplitter"+zzb.zui.getZSplitters().length+e);const u="left"===e?t.previousElementSibling:t.nextElementSibling,c="left"===e?t.nextElementSibling:t.previousElementSibling;let p=0;function d(){if(o.length>0)if(o[p].endsWith("%")){let e=0,n=0;try{let e=parseFloat(o[p].slice(0,-1))/100,n=t.getBoundingClientRect().width+u.getBoundingClientRect().width+c.getBoundingClientRect().width;u.style.width=n*e+"px"}catch{console.log("failed to set targetSide width",e,n),u.style.width="200px"}}else u.style.width=o[p]}d(),t.querySelectorAll("[zsplitter-toggable]").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),p++,p<o.length?(r("open"),d()):p===o.length&&(r("close"),p=-1,u.style.width="0"),zzb.zui.triggerZSplitterResize()}),!1)}));let z=o.length>0;("open"===n.show||"close"===n.show)&&("close"===n.show&&(u.style.width=0,p=-1),z?(t.classList.remove("d-none"),u.classList.remove("d-none")):(t.classList.add("d-none"),u.classList.add("d-none")));let y=zzb.zui.getZSplitter(t.id);y.toggle=function(e){"open"===e?(p=0,t.classList.remove("d-none"),u.classList.remove("d-none"),r(e),d()):"close"===e?(u.style.width=0,p=-1,t.classList.remove("d-none"),u.classList.remove("d-none"),r(e)):"dismiss"===e&&(p=-1,t.classList.add("d-none"),u.classList.add("d-none")),zzb.zui.triggerZSplitterResize()},zzb.zui.setZSplitter(t.id,y);let g=0,b=0,f=0;const m=function(o){const n=o.clientX-g,s=(o.clientY,100*(f+n*("left"===e?1:-1))/t.parentNode.getBoundingClientRect().width);u.style.width=`${s}%`,t.style.cursor="col-resize",document.body.style.cursor="col-resize",u.style.userSelect="none",u.style.pointerEvents="none",c.style.userSelect="none",c.style.pointerEvents="none",zzb.zui.triggerZSplitterResize()},h=function(){t.style.removeProperty("cursor"),document.body.style.removeProperty("cursor"),u.style.removeProperty("user-select"),u.style.removeProperty("pointer-events"),c.style.removeProperty("user-select"),c.style.removeProperty("pointer-events"),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),zzb.zui.triggerZSplitterResize()};t.addEventListener("mousedown",(function(t){g=t.clientX,b=t.clientY,f=u.getBoundingClientRect().width,document.addEventListener("mousemove",m),document.addEventListener("mouseup",h)}))}o.prototype.getDefaultRWdith=function(){return this.defaultRWidth},o.prototype.isViewportGTRSize=function(t){return(!zzb.types.isNumber(t)||t<=0)&&(t=this.defaultRWidth),Math.max(document.documentElement.clientWidth,window.innerWidth||0)>t},o.prototype.getZUICache=function(){let t={zsplitter:{}};try{let e=localStorage.getItem("zuiC");if(zzb.types.isStringNotEmpty(e)){let o=JSON.parse(e);if(zzb.types.isObject(o))return zzb.types.merge(t,o)}}catch(t){console.log(t)}return t},o.prototype.setZUICache=function(t){localStorage.setItem("zuiC",JSON.stringify(t))},o.prototype.removeZUICache=function(){localStorage.removeItem("zuiC")},o.prototype.registerZSplitterResize=function(t){let e=new zzb.zaction.ZActionHandler(t);for(let t=0;t<this.handlers.length;t++)if(this.handlers[t].getId()===e.id)return void(this.handlers[t]=e);this.handlers.push(e)},o.prototype.triggerZSplitterResize=function(){for(let t=0;t<this.handlers.length;t++)this.handlers[t].getHandler()()},o.prototype.getZSplitter=function(t){let e=this.zsplitters[t];return e||{toggle:null}},o.prototype.setZSplitter=function(t,e){t&&e&&(this.zsplitters[t]=e)},o.prototype.toggleZSplitterById=function(t,e){let o=document.getElementById(t);if(o){zzb.zui.getZSplitter(o.id).toggle(e)}},o.prototype.onLoadInit=function(){document.querySelectorAll(".zsplitter").forEach((function(t){Array.from(t.attributes).forEach((e=>{switch(e.nodeName){case"zsplitter-left":return n(t,"left",e.nodeValue),!0;case"zsplitter-right":return n(t,"right",e.nodeValue),!0}}))})),zzb.zui.triggerZSplitterResize(),document.querySelectorAll(".zuit-eo").forEach((function(t){let e=t.getAttribute("zuitEO1");if(zzb.types.isStringNotEmpty(e)){let o=t.getAttribute("zuitEO2");zzb.types.isStringNotEmpty(o)&&(t.innerHTML=e+"@"+o)}})),document.querySelectorAll(".zuit-year").forEach((function(t){t.innerHTML=(new Date).getFullYear()})),document.querySelectorAll(".zpagenohistory").forEach((function(t){history.pushState(null,null,location.href),history.back(),history.forward(),window.onpopstate=function(){history.go(1)}}))};const s={date:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0}};o.prototype.setLocale=function(t){this.locale=t},o.prototype.getLocale=function(t,e){if(!e)throw new Error("no callback defined for getLocale");if(this.locale)e(this.locale);else{let t=s;zzb.zui.setLocale(t),e(t)}},o.prototype.setElemIniter=function(t){let e=zzb.types.merge({name:null,fn:null},t);if(e.name&&e.fn){let t=!1;for(let o=0;o<this.elemIniters.length;o++)if(this.elemIniters[o].name===e.name){this.elemIniters[o]=intiter,t=!0;break}t||this.elemIniters.push(e)}},o.prototype.onElemInit=function(t){t||(t=document.body);for(let e=0;e<this.elemIniters.length;e++)this.elemIniters[e].fn(t);if("undefined"!=typeof Autocomplete){let t=document.querySelectorAll(".zautocomplete");t&&t.length>0&&t.forEach((function(t){let e=zzb.types.merge({data:[],locale:"en",maximumItems:7,threshold:3,zurl:t.getAttribute("zurl"),zmod:t.getAttribute("zmod")},zzb.dom.getAttributes(t,/^zacom-/,6));if(zzb.types.isArray(e.data)||(e.data=[]),e.maximumItems=zzb.strings.parseIntOrZero(e.maximumItems),e.maximumItems<=0&&(e.maximumItems=7),e.threshold=zzb.strings.parseIntOrZero(e.threshold),e.threshold<=0&&(e.threshold=3),!zzb.types.isStringNotEmpty(e.zurl))return void console.log("zautocomplete zurl not found");zzb.types.isStringNotEmpty(e.zmod)&&(e.zurl=e.zurl.replace(":mod",e.zmod));const o=new Autocomplete(t,{data:e.data,locale:e.locale,maximumItems:e.maximumItems,threshold:e.threshold,onSelectItem:function(t,e){},onInput:function(t){zzb.ajax.postJSON({url:e.zurl,body:{input:t,limit:e.maximumItems}},(function(t,e){!e&&t.rob.hasRecords()&&o.setData(t.rob.recs)}))}})}))}if("undefined"!=typeof AirDatepicker){let t=document.querySelectorAll(".zdate-picker");t&&t.forEach((function(t){let e=zzb.types.merge({value:zzb.dom.getAttributeElse(t,"value",null),locale:"en",autoClose:!0,useISOVal:"date-iso"===zzb.dom.getAttributeElse(t,"zf-type",null),addBtnToday:!0,addBtnClear:!0,autoEvInput:!1,autoEvBlur:!1},zzb.dom.getAttributes(t,/^zdate-/,6));e.autoClose=zzb.strings.toBool(e.autoClose),e.addBtnToday=zzb.strings.toBool(e.addBtnToday),e.addBtnClear=zzb.strings.toBool(e.addBtnClear),e.autoEvInput=zzb.strings.toBool(e.autoEvInput),e.autoEvBlur=zzb.strings.toBool(e.autoEvBlur);let o=[];e.addBtnToday&&o.push("today"),e.addBtnClear&&o.push("clear");let n="INPUT"===t.nodeName,s=null;const i=t.getAttribute("zf-cval");zzb.types.isStringNotEmpty(e.value)&&(zzb.types.isStringNotEmpty(i)||(s="now"===e.value?new Date:new Date(Date.parse(e.value)),zzb.dom.setAttribute(t,"zdate-value",""))),zzb.types.isStringNotEmpty(i)&&(s="now"===e.value?new Date:new Date(Date.parse(i)));let r=zzb.dom.getAttributeElse(t,"name",null);zzb.zui.getLocale(e.locale,(function(i){let l=new AirDatepicker(t,{locale:i.date,autoClose:e.autoClose,buttons:o,onSelect:function(o){n&&e.useISOVal&&r&&o&&o.date&&zzb.dom.setAttribute(t,"zf-cval",o.date.toISOString())}});s&&l.selectDate(s),luxon?(!0===e.autoEvInput&&t.addEventListener("input",(function(e){const o=t.value;if(zzb.types.isNonEmptyString(o)){let t=luxon.DateTime.fromFormat(o,i.date.dateFormat);t.isValid&&l.selectDate(t.toJSDate())}})),!0===e.autoEvBlur&&t.addEventListener("blur",(function(e){t.getAttribute("zf-cval");const o=t.value;luxon.DateTime.fromFormat(o,i.date.dateFormat).isValid||(zzb.dom.setAttribute(t,"zf-cval",""),t.value="")}))):!0!==e.autoEvInput&&!0!==e.autoEvBlur||console.log('advanced date processing using "luxon.js"')}))}))}},o.prototype.onZLoadSection=function(t,e){t||(t=document.body);let o="zinterval"+(!0===e?"-custom":"");t.querySelectorAll("."+o).forEach((function(t){t.classList.remove(o),t.classList.contains("zaction")&&zzb.time.newUIInterval(t)}));let n="zloadsection"+(!0===e?"-custom":"");t.querySelectorAll("."+n).forEach((function(t){t.classList.remove(n),t.classList.contains("zaction")&&t.click()}))},document.addEventListener("DOMContentLoaded",(function(){zzb.zui.onLoadInit(),zzb.zui.onElemInit(),zzb.zui.onZLoadSection(null)}),!1),e.G=o},616:function(t,e,o){var n,s,i,r;i=this,r=function(){const t=o(449).V,e=o(781).V,n=o(313).j,s=o(171).v,i=o(932).X,r=o(772).y,l=o(154).Q,a=o(334).S,u=o(546).h,c=o(602).n,p=o(844).G;function d(){}return d.prototype.types=new t,d.prototype.uuid=new e,d.prototype.strings=new n,d.prototype.dom=new s,d.prototype.time=new i,d.prototype.dialogs=new r,d.prototype.perms=new l,d.prototype.rob=new a,d.prototype.ajax=new u,d.prototype.zaction=new c,d.prototype.zui=new p,new d},"undefined"!=typeof window?window.zzb=r():void 0!==i?i.zzb=r():void 0===(s="function"==typeof(n=r)?n.call(e,o,e,t):n)||(t.exports=s)}},e={};(function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports})(616)})();